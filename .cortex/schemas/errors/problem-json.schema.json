{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Problem+JSON Schema",
  "description": "RFC 7807 Problem Details for HTTP APIs",
  "type": "object",
  "properties": {
    "type": {
      "type": "string",
      "format": "uri",
      "default": "about:blank",
      "description": "URI identifying the problem type"
    },
    "title": {
      "type": "string",
      "description": "Human-readable summary"
    },
    "status": {
      "type": "integer",
      "minimum": 400,
      "maximum": 599,
      "description": "HTTP status code"
    },
    "detail": {
      "type": "string",
      "description": "Human-readable explanation"
    },
    "instance": {
      "type": "string",
      "format": "uri",
      "pattern": "^urn:ulid:[0123456789ABCDEFGHJKMNPQRSTVWXYZ]{26}$",
      "description": "URI identifying specific occurrence (ULID)"
    }
  },
  "required": ["title", "status"],
  "additionalProperties": {
    "description": "Problem-specific extension fields"
  },
  "examples": [
    {
      "type": "about:blank",
      "title": "thermal_throttle",
      "status": 503,
      "detail": "Device overheated, switching to fallback provider",
      "instance": "urn:ulid:01J6KX1Q2Y3Z4A5B6C7D8E9F0G",
      "provider": "mlx",
      "temperature": 85.2,
      "fallback": "ollama"
    },
    {
      "type": "https://cortex-os.dev/problems/agent-timeout",
      "title": "agent_execution_timeout",
      "status": 408,
      "detail": "Agent exceeded maximum execution time",
      "instance": "urn:ulid:01J6KX2R3S4T5U6V7W8X9Y0Z1A",
      "agent": "code-analysis",
      "timeoutMs": 30000,
      "actualMs": 45200
    }
  ]
}