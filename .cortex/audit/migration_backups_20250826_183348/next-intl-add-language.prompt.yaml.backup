meta:
  id: cortex.next-intl-add-language.prompt
  persona: Assistant
  role: General Assistant
  version: 1.1.0
  model_targets:
    - general
    - coder
    - planner
    - auditor
    - researcher
  stack_tags: []
  risk_flags:
    - hallucination-check
    - unsafe-command-block
    - loop-detection
  a11y_flags:
    - opt-in
    - screen-reader
    - keyboard-nav
    - no-color-only
  inputs_schema: .cortex/library/schemas/inputs.core.ts
  outputs_schema: .cortex/library/schemas/outputs.core.ts
blocks:
  - task_context: ''
  - tone_context: ''
  - background: >-
      ---

      mode: "agent"

      tools:
        ["changes", "codebase", "editFiles", "findTestFiles", "search", "writeTest"]
      description: "Add new language to a Next.js + next-intl application"

      ---


      This is a guide to add a new language to a Next.js project using next-intl
      for internationalization,


      - For i18n, the application uses next-intl.

      - All translations are in the directory `./messages`.

      - The UI component is `src/components/language-toggle.tsx`.

      - Routing and middleware configuration are handled in:
        - `src/i18n/routing.ts`
        - `src/middleware.ts`

      When adding a new language:


      - Translate all the content of `en.json` to the new language. The goal is
      to have all the JSON
        entries in the new language for a complete translation.
      - Add the path in `routing.ts` and `middleware.ts`.

      - Add the language to `language-toggle.tsx`.
  - rules: ''
  - examples: ''
  - conversation_history: <history>{{HISTORY}}</history>
  - immediate_request: <question>{{QUESTION}}</question>
  - deliberation: reasoning_effort=medium
  - output_format: '```json'
  - prefill: '{ "result": null }'
