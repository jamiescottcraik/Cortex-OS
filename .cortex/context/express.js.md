========================
CODE SNIPPETS
========================
TITLE: Create a Basic Express.js Hello World Application
DESCRIPTION: This JavaScript code defines a minimal Express.js server. It initializes an Express app, defines a route for the root URL ('/'), and starts a server listening on port 3000. It responds with 'Hello World!' for requests to the root route and 404 for others. This example is a single-file application, simpler than those generated by the Express generator.

SOURCE: https://expressjs.com/en/starter/installing.html/starter/hello-world

LANGUAGE: JavaScript
CODE:

```
const express = require('express')
const app = express()
const port = 3000

app.get('/', (req, res) => {
  res.send('Hello World!')
})

app.listen(port, () => {
  console.log(`Example app listening on port ${port}`)
})
```

---

TITLE: Express.js: Initialize and Start a Basic Application
DESCRIPTION: This snippet demonstrates the fundamental steps to create an Express.js application. It shows how to require the Express module, instantiate an `app` object, define a simple GET route for the root path that sends 'hello world' as a response, and start the server listening on port 3000.

SOURCE: https://expressjs.com/en/starter/installing.html/5x/api

LANGUAGE: JavaScript
CODE:

```
const express = require('express')
const app = express()

app.get('/', (req, res) => {
  res.send('hello world')
})

app.listen(3000)
```

---

TITLE: Create a Basic 'Hello World' Express.js Application
DESCRIPTION: This snippet demonstrates the minimal code required to set up an Express.js server that listens on port 3000 and responds with 'Hello World!' to GET requests on the root path.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/writing-middleware

LANGUAGE: javascript
CODE:

```
const express = require('express')
const app = express()

app.get('/', (req, res) => {
  res.send('Hello World!')
})

app.listen(3000)
```

---

TITLE: Express.js app.listen() Basic Server Setup
DESCRIPTION: Demonstrates the basic usage of `app.listen()` to start an Express application. It shows how to require Express, initialize an app, and make it listen on a specific port, such as 3000.

SOURCE: https://expressjs.com/en/starter/installing.html/5x/api

LANGUAGE: JavaScript
CODE:

```
const express = require('express')
const app = express()
app.listen(3000)

```

---

TITLE: Run an Express.js Application from the Command Line
DESCRIPTION: This shell command executes the `app.js` file using Node.js, which starts the Express.js server defined within the file. After running, the application will be accessible via `http://localhost:3000/` in a web browser.

SOURCE: https://expressjs.com/en/starter/installing.html/starter/hello-world

LANGUAGE: Shell
CODE:

```
$ node app.js
```

---

TITLE: Handle GET Request on Homepage in Express.js
DESCRIPTION: Demonstrates how to define a route that responds to a GET request on the root path ('/') by sending 'Hello World!' as the response. This is a basic example of setting up a homepage route.

SOURCE: https://expressjs.com/en/starter/installing.html/starter/basic-routing

LANGUAGE: javascript
CODE:

```
app.get('/', (req, res) => {
  res.send('Hello World!')
})
```

---

TITLE: Express.js: Basic Application Creation and Routing
DESCRIPTION: This code snippet demonstrates the fundamental steps to create an Express application instance and set up a basic HTTP GET route. It shows how to import the Express module, initialize the application object, define a route for the root path ('/') that sends 'hello world' as a response, and start the server listening on port 3000.

SOURCE: https://expressjs.com/en/starter/installing.html/4x/api

LANGUAGE: JavaScript
CODE:

```
var express = require('express')
var app = express()

app.get('/', function (req, res) {
  res.send('hello world')
})

app.listen(3000)
```

---

TITLE: Express.js: Handle HTTP GET Request Example
DESCRIPTION: Provides a practical example of using `app.get` to handle a GET request to the root path ('/'). The callback function sends a simple text response to the client.

SOURCE: https://expressjs.com/en/starter/installing.html/5x/api

LANGUAGE: JavaScript
CODE:

```
app.get('/', (req, res) => {
  res.send('GET request to homepage')
})
```

---

TITLE: Configure Express.js Static File Serving with express.static
DESCRIPTION: Examples of using the `express.static` middleware to serve static content, including basic setup, mounting at a specific path, ordering with other middleware, and serving from multiple directories.

SOURCE: https://expressjs.com/en/starter/installing.html/api

LANGUAGE: javascript
CODE:

```
// GET /style.css etc
app.use(express.static(path.join(__dirname, 'public')))
```

LANGUAGE: javascript
CODE:

```
// GET /static/style.css etc.
app.use('/static', express.static(path.join(__dirname, 'public')))
```

LANGUAGE: javascript
CODE:

```
app.use(express.static(path.join(__dirname, 'public')))
app.use(logger())
```

LANGUAGE: javascript
CODE:

```
app.use(express.static(path.join(__dirname, 'public')))
app.use(express.static(path.join(__dirname, 'files')))
app.use(express.static(path.join(__dirname, 'uploads')))
```

---

TITLE: Express.js Application Initialization and Basic Routing
DESCRIPTION: This snippet demonstrates the fundamental steps to create an Express.js application instance, define a simple GET route for the root path ('/'), and start the server listening on port 3000. It showcases the conventional way to set up a basic Express web server.

SOURCE: https://expressjs.com/en/starter/installing.html/api

LANGUAGE: javascript
CODE:

```
const express = require('express')
const app = express()

app.get('/', (req, res) => {
  res.send('hello world')
})

app.listen(3000)
```

---

TITLE: Express.js Router: Middleware and GET Route Example
DESCRIPTION: This example demonstrates how to define a router-level middleware that executes for any request passed to the router, and how to set up a specific `GET` route for a path like `/events` within that router.

SOURCE: https://expressjs.com/en/starter/installing.html/api

LANGUAGE: JavaScript
CODE:

```
// invoked for any requests passed to this router
router.use((req, res, next) => {
  // .. some logic here .. like any other middleware
  next()
})

// will handle any request that ends in /events
// depends on where the router is "use()'d"
router.get('/events', (req, res, next) => {
  // ..
})
```

---

TITLE: Example: Handling HTTP GET Request with app.get() in Express.js
DESCRIPTION: This example demonstrates a basic implementation of `app.get()` to handle an HTTP GET request to the root path (`/`). The provided callback function sends a simple text response back to the client, illustrating how to respond to incoming requests.

SOURCE: https://expressjs.com/en/starter/installing.html/api

LANGUAGE: JavaScript
CODE:

```
app.get('/', (req, res) => {
  res.send('GET request to homepage')
})
```

---

TITLE: Integrate `myLogger` Middleware into an Express.js Application
DESCRIPTION: This example shows how to load the `myLogger` middleware using `app.use()` before defining the root path route. It demonstrates the importance of middleware order, as functions loaded first are executed first.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/writing-middleware

LANGUAGE: javascript
CODE:

```
const express = require('express')
const app = express()

const myLogger = function (req, res, next) {
  console.log('LOGGED')
  next()
}

app.use(myLogger)

app.get('/', (req, res) => {
  res.send('Hello World!')
})

app.listen(3000)
```

---

TITLE: Express 3 Application Entry Point (app.js)
DESCRIPTION: Example `app.js` file for an Express 3 application, demonstrating common middleware setup, view engine configuration, and server initialization using `http.createServer()`.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/migrating-4

LANGUAGE: javascript
CODE:

```
var express = require('express')
var routes = require('./routes')
var user = require('./routes/user')
var http = require('http')
var path = require('path')

var app = express()

// all environments
app.set('port', process.env.PORT || 3000)
app.set('views', path.join(__dirname, 'views'))
app.set('view engine', 'pug')
app.use(express.favicon())
app.use(express.logger('dev'))
app.use(express.methodOverride())
app.use(express.session({ secret: 'your secret here' }))
app.use(express.bodyParser())
app.use(app.router)
app.use(express.static(path.join(__dirname, 'public')))

// development only
if (app.get('env') === 'development') {
  app.use(express.errorHandler())
}

app.get('/', routes.index)
app.get('/users', user.list)

http.createServer(app).listen(app.get('port'), () => {
  console.log('Express server listening on port ' + app.get('port'))
})
```

---

TITLE: Install serve-index Node.js module
DESCRIPTION: Instructions on how to install the `serve-index` module using npm, the Node.js package manager.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/serve-index

LANGUAGE: bash
CODE:

```
npm install serve-index

```

---

TITLE: Install serve-static Module via npm
DESCRIPTION: This snippet demonstrates how to install the `serve-static` Node.js module using the npm package manager. The `npm install` command downloads and adds the module to your project's dependencies.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/serve-static

LANGUAGE: Bash
CODE:

```
$ npm install serve-static
```

---

TITLE: Full Systemd Unit File Example for Node.js Application
DESCRIPTION: This comprehensive systemd unit file example demonstrates how to configure a service to directly manage a Node.js application. It includes essential settings such as Description, ExecStart path, WorkingDirectory, User and Group for security, Environment variables, resource limits (LimitNOFILE, LimitCORE), and Restart=always to ensure continuous operation.

SOURCE: https://expressjs.com/en/starter/installing.html/advanced/best-practice-performance

LANGUAGE: systemd
CODE:

```
[Unit]
Description=<Awesome Express App>

[Service]
Type=simple
ExecStart=/usr/local/bin/node </projects/myapp/index.js>
WorkingDirectory=</projects/myapp>

User=nobody
Group=nogroup

# Environment variables:
Environment=NODE_ENV=production

# Allow many incoming connections
LimitNOFILE=infinity

# Allow core dumps for debugging
LimitCORE=infinity

StandardInput=null
StandardOutput=syslog
StandardError=syslog
Restart=always

[Install]
WantedBy=multi-user.target

```

---

TITLE: Apply a Configurable Express.js Middleware to an Application
DESCRIPTION: This example shows how to use a configurable middleware module within an Express.js application. The `mw` module is required, then invoked with a configuration object (`{ option1: '1', option2: '2' }`) to create an instance of the middleware, which is then added to the Express application's middleware stack using `app.use()`.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/writing-middleware

LANGUAGE: javascript
CODE:

```
const mw = require('./my-middleware.js')

app.use(mw({ option1: '1', option2: '2' }))
```

---

TITLE: Install Express.js and save to package.json dependencies
DESCRIPTION: Install the Express.js framework using npm. By default (npm 5.0+), this command automatically adds Express to the `dependencies` list in your `package.json` file, ensuring it's installed when others set up the project.

SOURCE: https://expressjs.com/en/starter/installing.html/starter/installing

LANGUAGE: shell
CODE:

```
$ npm install express
```

---

TITLE: Starting Express.js Server with app.listen
DESCRIPTION: Binds and listens for connections on a specified host and port, or a UNIX socket path. This method is identical to Node's `http.Server.listen()`. It demonstrates how the Express app, being a JavaScript function, can be passed to Node's HTTP servers for flexible server setup, including HTTP and HTTPS.

SOURCE: https://expressjs.com/en/starter/installing.html/4x/api

LANGUAGE: JavaScript
CODE:

```
var express = require('express')
var app = express()
app.listen('/tmp/sock')
```

LANGUAGE: JavaScript
CODE:

```
var express = require('express')
var app = express()
app.listen(3000)
```

LANGUAGE: JavaScript
CODE:

```
var express = require('express')
var https = require('https')
var http = require('http')
var app = express()

http.createServer(app).listen(80)
https.createServer(options, app).listen(443)
```

LANGUAGE: JavaScript
CODE:

```
app.listen = function () {
  var server = http.createServer(this)
  return server.listen.apply(server, arguments)
}
```

---

TITLE: Express.js Project Collaborator's Guide
DESCRIPTION: Comprehensive guide for contributors to the Express.js project, covering code standards, branching strategy, pull request procedures, and issue management best practices.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/contributing

LANGUAGE: APIDOC
CODE:

```
Collaborator's guide:
  Website Issues:
    - Open issues for expressjs.com website in https://github.com/expressjs/expressjs.com.
    - For other Express managed repos (expressjs, pillarjs, jshttp), check contributing guide and open issues/PRs in appropriate repository.
  PRs and Code contributions:
    - Tests must pass.
    - Follow the JavaScript Standard Style and run 'npm run lint'.
    - If you fix a bug, add a test.
  Branches:
    - 'master' branch: Use for bug fixes or minor work intended for the current release stream.
    - '6.x' (e.g.): Use for anything intended for a future release of Express.
  Steps for contributing:
    1. Create an issue for the bug you want to fix or the feature that you want to add.
    2. Create your own fork on GitHub, then checkout your fork.
    3. Write your code in your local copy. It’s good practice to create a branch for each new issue you work on.
    4. To run the test suite:
       - Install dependencies: 'npm install'
       - Run tests: 'npm test'
    5. Ensure your code is linted: 'npm run lint' – fix any issue you see listed.
    6. If the tests pass, commit your changes to your fork and then create a pull request. Make sure to reference your issue from the pull request comments by including the issue number (e.g., '#123').
  Issues which are questions:
    - Typically close vague issues or questions specific to user apps.
    - Double check docs and other references before posting a question issue.
    - Things that will help get your question issue looked at:
      - Full and runnable JS code.
      - Clear description of the problem or unexpected behavior.
      - Clear description of the expected result.
      - Steps you have taken to debug it yourself.
    - If requirements not outlined, issue will be closed.
    - If not needing maintainer input, open as a discussion topic instead of an issue.
```

---

TITLE: Example Express Debug Output on Startup
DESCRIPTION: This snippet displays the extensive internal logs generated by Express.js when the `DEBUG` environment variable is set to `express:*` during application initialization, showing component loading and routing setup.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/debugging

LANGUAGE: shell
CODE:

```
$ DEBUG=express:* node ./bin/www
  express:router:route new / +0ms
  express:router:layer new / +1ms
  express:router:route get / +1ms
  express:router:layer new / +0ms
  express:router:route new / +1ms
  express:router:layer new / +0ms
  express:router:route get / +0ms
  express:router:layer new / +0ms
  express:application compile etag weak +1ms
  express:application compile query parser extended +0ms
  express:application compile trust proxy false +0ms
  express:application booting in development mode +1ms
  express:router use / query +0ms
  express:router:layer new / +0ms
  express:router use / expressInit +0ms
  express:router:layer new / +0ms
  express:router use / favicon +1ms
  express:router:layer new / +0ms
  express:router use / logger +0ms
  express:router:layer new / +0ms
  express:router use / jsonParser +0ms
  express:router:layer new / +1ms
  express:router use / urlencodedParser +0ms
  express:router:layer new / +0ms
  express:router use / cookieParser +0ms
  express:router:layer new / +0ms
  express:router use / stylus +90ms
  express:router:layer new / +0ms
  express:router use / serveStatic +0ms
  express:router:layer new / +0ms
  express:router use / router +0ms
  express:router:layer new / +1ms
  express:router use /users router +0ms
  express:router:layer new /users +0ms
  express:router use / &lt;anonymous&gt; +0ms
  express:router:layer new / +0ms
  express:router use / &lt;anonymous&gt; +0ms
  express:router:layer new / +0ms
  express:router use / &lt;anonymous&gt; +0ms
  express:router:layer new / +0ms
```

---

TITLE: Express.js `res.sendFile` Example with Options and Callback
DESCRIPTION: Provides a complete example of using `res.sendFile` with `root` directory, `dotfiles` option, custom `headers`, and an error-handling callback function.

SOURCE: https://expressjs.com/en/starter/installing.html/4x/api

LANGUAGE: JavaScript
CODE:

```
app.get('/file/:name', function (req, res, next) {
  var options = {
    root: path.join(__dirname, 'public'),
    dotfiles: 'deny',
    headers: {
      'x-timestamp': Date.now(),
      'x-sent': true
    }
  }

  var fileName = req.params.name
  res.sendFile(fileName, options, function (err) {
    if (err) {
      next(err)
    } else {
      console.log('Sent:', fileName)
    }
  })
})
```

---

TITLE: Express.js Middleware Path Matching (Exact Prefix)
DESCRIPTION: Example of an Express.js middleware mounted to match paths starting with `/abcd`. This middleware will execute for `/abcd`, `/abcd/something`, etc.

SOURCE: https://expressjs.com/en/starter/installing.html/4x/api

LANGUAGE: javascript
CODE:

```
app.use('/abcd', function (req, res, next) {
  next()
})
```

---

TITLE: Express.js app.enable() Example
DESCRIPTION: Demonstrates how to use `app.enable()` to turn on a setting like 'trust proxy' and verify its state with `app.get()`.

SOURCE: https://expressjs.com/en/starter/installing.html/api

LANGUAGE: javascript
CODE:

```
app.enable('trust proxy')
app.get('trust proxy')
// => true
```

---

TITLE: Configure Express.js `app.js` for Basic Server Setup
DESCRIPTION: This snippet shows a complete `app.js` file for an Express.js application, demonstrating middleware loading (e.g., favicon, logger, body-parser, multer), view engine setup (Pug), static file serving, route definitions, and basic error handling for a development environment. It sets up an HTTP server and listens on a specified port.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/migrating-4

LANGUAGE: JavaScript
CODE:

```
var http = require('http')
var express = require('express')
var routes = require('./routes')
var user = require('./routes/user')
var path = require('path')

var favicon = require('serve-favicon')
var logger = require('morgan')
var methodOverride = require('method-override')
var session = require('express-session')
var bodyParser = require('body-parser')
var multer = require('multer')
var errorHandler = require('errorhandler')

var app = express()

// all environments
app.set('port', process.env.PORT || 3000)
app.set('views', path.join(__dirname, 'views'))
app.set('view engine', 'pug')
app.use(favicon(path.join(__dirname, '/public/favicon.ico')))
app.use(logger('dev'))
app.use(methodOverride())
app.use(session({
  resave: true,
  saveUninitialized: true,
  secret: 'uwotm8'
}))
app.use(bodyParser.json())
app.use(bodyParser.urlencoded({ extended: true }))
app.use(multer())
app.use(express.static(path.join(__dirname, 'public')))

app.get('/', routes.index)
app.get('/users', user.list)

// error handling middleware should be loaded after the loading the routes
if (app.get('env') === 'development') {
  app.use(errorHandler())
}

var server = http.createServer(app)
server.listen(app.get('port'), () => {
  console.log('Express server listening on port ' + app.get('port'))
})
```

---

TITLE: Start Express App with npm
DESCRIPTION: Starts the Express application using the `npm start` command. This command typically executes `node ./bin/www`, which is defined in the `package.json` file, to launch the server.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/migrating-4

LANGUAGE: shell
CODE:

```
$ npm start
```

---

TITLE: Express.js: Get HTTP Request Header Field Examples
DESCRIPTION: Examples demonstrating the usage of `req.get()` to retrieve HTTP header values, showing case-insensitivity and handling of non-existent headers.

SOURCE: https://expressjs.com/en/starter/installing.html/5x/api

LANGUAGE: JavaScript
CODE:

```
req.get('Content-Type')
// => "text/plain"

req.get('content-type')
// => "text/plain"

req.get('Something')
// => undefined
```

---

TITLE: Initialize a new npm project for Express.js
DESCRIPTION: Use the `npm init` command to create a `package.json` file, which manages your project's metadata and dependencies. You will be prompted for various details, accepting defaults is often sufficient.

SOURCE: https://expressjs.com/en/starter/installing.html/starter/installing

LANGUAGE: shell
CODE:

```
$ npm init
```

---

TITLE: Examples of res.download usage
DESCRIPTION: Demonstrates various ways to use `res.download`, including basic file transfer, specifying a custom filename, and handling errors with a callback function.

SOURCE: https://expressjs.com/en/starter/installing.html/5x/api

LANGUAGE: javascript
CODE:

```
res.download('/report-12345.pdf')

res.download('/report-12345.pdf', 'report.pdf')

res.download('/report-12345.pdf', 'report.pdf', (err) => {
  if (err) {
    // Handle error, but keep in mind the response may be partially-sent
    // so check res.headersSent
  } else {
    // decrement a download credit, etc.
  }
})
```

---

TITLE: Express.js: Route Handler for GET Requests
DESCRIPTION: This example shows a route and its handler function, which acts as a middleware system. The function specifically handles GET requests to the `/user/:id` path.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/using-middleware

LANGUAGE: JavaScript
CODE:

```
app.get('/user/:id', (req, res, next) => {
  res.send('USER')
})
```

---

TITLE: Basic Express.js Server Initialization
DESCRIPTION: Demonstrates the simplest way to start an Express.js application, binding it to a specific port for incoming connections.

SOURCE: https://expressjs.com/en/starter/installing.html/api

LANGUAGE: JavaScript
CODE:

```
const express = require('express')
const app = express()
app.listen(3000)

```

---

TITLE: Express.js Session Store: Get session count
DESCRIPTION: This optional method is used to get the count of all sessions in the store. The callback should be called as `callback(error, len)`.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/session

LANGUAGE: APIDOC
CODE:

```
store.length(callback)
  Type: Optional
  Parameters:
    callback: Function
      Description: Callback function called as callback(error, len) with the session count.
```

---

TITLE: Express.js app.all() API Path Restriction
DESCRIPTION: Provides an example of using `app.all()` to restrict global functionality, like authentication, only to paths starting with “/api”.

SOURCE: https://expressjs.com/en/starter/installing.html/api

LANGUAGE: javascript
CODE:

```
app.all('/api/{*splat}', requireAuthentication)
```

---

TITLE: Express.js Router: router.all Usage Examples
DESCRIPTION: These examples demonstrate various applications of `router.all()`. The first shows applying multiple middleware functions to all paths, while the subsequent examples illustrate how to apply middleware to all paths or restrict it to paths prefixed with `/api`.

SOURCE: https://expressjs.com/en/starter/installing.html/api

LANGUAGE: JavaScript
CODE:

```
router.all('{*splat}', requireAuthentication, loadUser)
```

LANGUAGE: JavaScript
CODE:

```
router.all('{*splat}', requireAuthentication)
router.all('{*splat}', loadUser)
```

LANGUAGE: JavaScript
CODE:

```
router.all('/api/{*splat}', requireAuthentication)
```

---

TITLE: Install express-session Node.js module
DESCRIPTION: This command installs the `express-session` package from the npm registry, making it available for use in Node.js applications. It should be run in the project's root directory.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/session

LANGUAGE: Shell
CODE:

```
$ npm install express-session
```

---

TITLE: Install response-time Node.js module via npm
DESCRIPTION: This command installs the `response-time` module from the npm registry, making it available for use in Node.js projects.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/response-time

LANGUAGE: bash
CODE:

```
npm install response-time
```

---

TITLE: Express.js app.listen() Internal Implementation Example
DESCRIPTION: Provides an example of how `app.listen()` is internally implemented as a convenience method. It shows that it essentially creates an `http.Server` and then calls `server.listen()` on it, passing along the original arguments.

SOURCE: https://expressjs.com/en/starter/installing.html/5x/api

LANGUAGE: JavaScript
CODE:

```
app.listen = function () {
  const server = http.createServer(this)
  return server.listen.apply(server, arguments)
}

```

---

TITLE: Clone Express.js Website Repository
DESCRIPTION: This command clones the official Express.js website repository from GitHub, providing the local code base for development and contributions. It's the first step to getting the application code.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/contributing

LANGUAGE: bash
CODE:

```
git clone https://github.com/expressjs/expressjs.com.git
```

---

TITLE: Express.js app.post() Usage Example
DESCRIPTION: Provides a simple example of using `app.post()` to handle POST requests to the homepage and send a response.

SOURCE: https://expressjs.com/en/starter/installing.html/4x/api

LANGUAGE: javascript
CODE:

```
app.post('/', function (req, res) {
  res.send('POST request to homepage')
})
```

---

TITLE: Example of Using express.static Middleware
DESCRIPTION: Demonstrates how to configure and use the `express.static` middleware with various options, including `dotfiles`, `etag`, `extensions`, `index`, `maxAge`, `redirect`, and a custom `setHeaders` function to add an `x-timestamp` header.

SOURCE: https://expressjs.com/en/starter/installing.html/api

LANGUAGE: JavaScript
CODE:

```
const options = {
  dotfiles: 'ignore',
  etag: false,
  extensions: ['htm', 'html'],
  index: false,
  maxAge: '1d',
  redirect: false,
  setHeaders (res, path, stat) {
    res.set('x-timestamp', Date.now())
  }
}

app.use(express.static('public', options))
```

---

TITLE: Express.js: Chaining Multiple Middleware for GET Requests and Route Order
DESCRIPTION: This example shows a middleware sub-stack that handles GET requests to the `/user/:id` path. It highlights how multiple route handlers for the same path are processed, noting that the first handler to end the request-response cycle will prevent subsequent handlers from being called.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/using-middleware

LANGUAGE: JavaScript
CODE:

```
app.get('/user/:id', (req, res, next) => {
  console.log('ID:', req.params.id)
  next()
}, (req, res, next) => {
  res.send('User Info')
})

// handler for the /user/:id path, which prints the user ID
app.get('/user/:id', (req, res, next) => {
  res.send(req.params.id)
})
```

---

TITLE: Express.js GET Route with Regular Expression
DESCRIPTION: This example shows how to use a regular expression to define a more specific GET route in Express.js. It matches paths like '/commits/71dbb9c' or '/commits/71dbb9c..4c084f9', extracting parameters from the matched groups and sending a commit range message.

SOURCE: https://expressjs.com/en/starter/installing.html/4x/api

LANGUAGE: javascript
CODE:

```
router.get(/^\/commits\/(\w+)(?:\.\.(\w+))?$/, function (req, res) {
  var from = req.params[0]
  var to = req.params[1] || 'HEAD'
  res.send('commit range ' + from + '..' + to)
})
```

---

TITLE: Example of express.static middleware configuration
DESCRIPTION: Demonstrates how to configure and use the `express.static` middleware function with various options, including `dotfiles`, `extensions`, `maxAge`, and a custom `setHeaders` function.

SOURCE: https://expressjs.com/en/starter/installing.html/4x/api

LANGUAGE: JavaScript
CODE:

```
var options = {
  dotfiles: 'ignore',
  etag: false,
  extensions: ['htm', 'html'],
  index: false,
  maxAge: '1d',
  redirect: false,
  setHeaders: function (res, path, stat) {
    res.set('x-timestamp', Date.now())
  }
}

app.use(express.static('public', options))
```

---

TITLE: Express.js app.enable() Method API Reference and Example
DESCRIPTION: Documents the `app.enable()` method, which sets a Boolean application setting to `true`. It includes an example demonstrating how to enable the 'trust proxy' setting and verify its state.

SOURCE: https://expressjs.com/en/starter/installing.html/5x/api

LANGUAGE: APIDOC
CODE:

```
app.enable(name)
  name: string - The name of the Boolean setting to set to 'true'.
  Description: Sets the Boolean setting 'name' to 'true', where 'name' is one of the properties from the app settings table. Calling 'app.set('foo', true)' for a Boolean property is the same as calling 'app.enable('foo')'.
  Example:
    app.enable('trust proxy')
    app.get('trust proxy')
    // => true
```

---

TITLE: Express.js: Path-Specific Middleware (app.use)
DESCRIPTION: This example shows a middleware function mounted on the `/user/:id` path. The function is executed for any type of HTTP request (GET, PUT, POST, etc.) on the specified path.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/using-middleware

LANGUAGE: JavaScript
CODE:

```
app.use('/user/:id', (req, res, next) => {
  console.log('Request Type:', req.method)
  next()
})
```

---

TITLE: Express/Connect Top-Level Generic Body Parser
DESCRIPTION: This example demonstrates adding a generic JSON and URL-encoded parser as a top-level middleware, which will parse the bodies of all incoming requests. This is the simplest setup for `body-parser`.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/body-parser

LANGUAGE: JavaScript
CODE:

```
const express = require('express')
const bodyParser = require('body-parser')

const app = express()

// parse application/x-www-form-urlencoded
app.use(bodyParser.urlencoded())

// parse application/json
app.use(bodyParser.json())

app.use(function (req, res) {
  res.setHeader('Content-Type', 'text/plain')
  res.write('you posted:\n')
  res.end(String(JSON.stringify(req.body, null, 2)))
})
```

---

TITLE: Configure entry point during npm init
DESCRIPTION: During the `npm init` process, you will be prompted to specify the main application file. Enter `app.js` or your desired main file name, or hit RETURN to accept the default `index.js`.

SOURCE: https://expressjs.com/en/starter/installing.html/starter/installing

LANGUAGE: shell
CODE:

```
entry point: (index.js)
```

---

TITLE: Install Express 5
DESCRIPTION: Command to install Express 5, which requires Node.js version 18 or higher. This command should be executed in your application directory.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/migrating-5

LANGUAGE: bash
CODE:

```
npm install "express@5"
```

---

TITLE: Create a Configurable Express.js Middleware Module
DESCRIPTION: This JavaScript module exports a function that acts as a factory for middleware. It accepts an `options` object, allowing the returned middleware function to be customized based on the provided configuration. This pattern promotes reusability and flexibility for middleware components.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/writing-middleware

LANGUAGE: javascript
CODE:

```
module.exports = function (options) {
  return function (req, res, next) {
    // Implement the middleware function based on the options object
    next()
  }
}
```

---

TITLE: Implement User Login and Logout with Express.js Session
DESCRIPTION: This example illustrates how to manage user login and logout sessions using `express-session`. It includes middleware for authentication, routes for displaying content to authenticated users, handling login form submissions, and securely logging out users by regenerating sessions. Requires `express` and `escape-html`.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/session

LANGUAGE: JavaScript
CODE:

```
var escapeHtml = require('escape-html')
var express = require('express')
var session = require('express-session')

var app = express()

app.use(session({
  secret: 'keyboard cat',
  resave: false,
  saveUninitialized: true
}))

// middleware to test if authenticated
function isAuthenticated (req, res, next) {
  if (req.session.user) next()
  else next('route')
}

app.get('/', isAuthenticated, function (req, res) {
  // this is only called when there is an authentication user due to isAuthenticated
  res.send('hello, ' + escapeHtml(req.session.user) + '!' +
    ' <a href="/logout">Logout</a>')
})

app.get('/', function (req, res) {
  res.send('<form action="/login" method="post">' +
    'Username: <input name="user"><br>' +
    'Password: <input name="pass" type="password"><br>' +
    '<input type="submit" text="Login"></form>')
})

app.post('/login', express.urlencoded({ extended: false }), function (req, res) {
  // login logic to validate req.body.user and req.body.pass
  // would be implemented here. for this example any combo works

  // regenerate the session, which is good practice to help
  // guard against forms of session fixation
  req.session.regenerate(function (err) {
    if (err) next(err)

    // store user information in session, typically a user id
    req.session.user = req.body.user

    // save the session before redirection to ensure page
    // load does not happen before session is saved
    req.session.save(function (err) {
      if (err) return next(err)
      res.redirect('/')
    })
  })
})

app.get('/logout', function (req, res, next) {
  // logout logic

  // clear the user from the session object and save.
  // this will ensure that re-using the old session id
  // does not have a logged in user
  req.session.user = null
  req.session.save(function (err) {
    if (err) next(err)

    // regenerate the session, which is good practice to help
    // guard against forms of session fixation
    req.session.regenerate(function (err) {
      if (err) next(err)
      res.redirect('/')
    })
  })
})

app.listen(3000)
```

---

TITLE: Express.js: Reusable Middleware Array
DESCRIPTION: This example shows how middleware functions can be declared in an array for reusability. It demonstrates a middleware sub-stack that handles GET requests to the `/user/:id` path by passing an array of middleware functions.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/using-middleware

LANGUAGE: JavaScript
CODE:

```
function logOriginalUrl (req, res, next) {
  console.log('Request URL:', req.originalUrl)
  next()
}

function logMethod (req, res, next) {
  console.log('Request Type:', req.method)
  next()
}

const logStuff = [logOriginalUrl, logMethod]
app.get('/user/:id', logStuff, (req, res, next) => {
  res.send('User Info')
})
```

---

TITLE: express-session API: session(options) middleware
DESCRIPTION: Detailed API documentation for the `session(options)` middleware, which creates and configures server-side sessions. It covers the purpose, important notes regarding `MemoryStore` and `cookie-parser`, and a comprehensive list of `cookie` options.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/session

LANGUAGE: APIDOC
CODE:

```
session(options)
  Description: Create a session middleware with the given `options`.
  Notes:
    - Session data is *not* saved in the cookie itself, just the session ID. Session data is stored server-side.
    - Since version 1.5.0, the `cookie-parser` middleware no longer needs to be used.
    - The default server-side session storage, `MemoryStore`, is *purposely* not designed for a production environment.
  Options:
    cookie: object
      Description: Settings object for the session ID cookie. Default: { path: '/', httpOnly: true, secure: false, maxAge: null }
      Properties:
        domain: string
          Description: Specifies the value for the `Domain` `Set-Cookie` attribute.
        expires: Date
          Description: Specifies the `Date` object for the `Expires` `Set-Cookie` attribute.
          Note: If both `expires` and `maxAge` are set, the last one defined is used. The `expires` option should not be set directly; instead only use the `maxAge` option.
        httpOnly: boolean
          Description: Specifies the `boolean` value for the `HttpOnly` `Set-Cookie` attribute. Default: true.
          Note: Compliant clients will not allow client-side JavaScript to see the cookie.
        maxAge: number (milliseconds)
          Description: Specifies the `number` (in milliseconds) to use when calculating the `Expires` `Set-Cookie` attribute.
          Note: If both `expires` and `maxAge` are set, the last one defined is used.
        partitioned: boolean
          Description: Specifies the `boolean` value for the `Partitioned` `Set-Cookie` attribute. Default: false.
          Note: This is an attribute that has not yet been fully standardized.
        path: string
          Description: Specifies the value for the `Path` `Set-Cookie`. Default: '/'.
        priority: string ('low', 'medium', 'high')
          Description: Specifies the `string` to be the value for the `Priority` `Set-Cookie` attribute.
          Values: 'low', 'medium', 'high'.
          Note: This is an attribute that has not yet been fully standardized.
```

---

TITLE: Install connect-rid npm package
DESCRIPTION: Instructions to install the `connect-rid` middleware using npm, the Node.js package manager. This command adds the package to your project's dependencies.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/connect-rid

LANGUAGE: bash
CODE:

```
$ npm install connect-rid
```

---

TITLE: Express.js Middleware Usage Examples
DESCRIPTION: Illustrates common ways to define, require, and apply middleware in an Express.js application, including examples for requiring a module, instantiating middleware, adding it to the global processing stack, and applying it to a specific route.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/glossary

LANGUAGE: JavaScript
CODE:

```
var foo = require('middleware')
```

LANGUAGE: JavaScript
CODE:

```
var mw = foo()
```

LANGUAGE: JavaScript
CODE:

```
app.use(mw)
```

LANGUAGE: JavaScript
CODE:

```
app.get('/foo', mw, function (req, res) { ... })
```

---

TITLE: Express.js Router: Console output for router.param single call
DESCRIPTION: Shows the expected console output when the `router.param` single call example is executed with `GET /user/42`, confirming that the param callback is called once, followed by the route callbacks.

SOURCE: https://expressjs.com/en/starter/installing.html/5x/api

LANGUAGE: Text
CODE:

```
CALLED ONLY ONCE
although this matches
and this matches too
```

---

TITLE: Express.js app.all() Method Usage Examples
DESCRIPTION: Illustrates various uses of the `app.all()` method in Express.js for applying global logic to specific paths or patterns, such as logging access, enforcing authentication, or loading user data. Examples show how to apply middleware for all HTTP methods and how to use splat patterns.

SOURCE: https://expressjs.com/en/starter/installing.html/5x/api

LANGUAGE: JavaScript
CODE:

```
app.all('/secret', (req, res, next) => {
  console.log('Accessing the secret section ...')
  next() // pass control to the next handler
})
```

LANGUAGE: JavaScript
CODE:

```
app.all('{*splat}', requireAuthentication, loadUser)
```

LANGUAGE: JavaScript
CODE:

```
app.all('{*splat}', requireAuthentication)
app.all('{*splat}', loadUser)
```

LANGUAGE: JavaScript
CODE:

```
app.all('/api/{*splat}', requireAuthentication)
```

---

TITLE: Express.js Mounting a Series of Middleware
DESCRIPTION: Example showing how to mount multiple middleware functions at the same path by listing them as arguments to `app.use()`.

SOURCE: https://expressjs.com/en/starter/installing.html/5x/api

LANGUAGE: javascript
CODE:

```
const r1 = express.Router()
r1.get('/', (req, res, next) => {
  next()
})

const r2 = express.Router()
r2.get('/', (req, res, next) => {
  next()
})

app.use(r1, r2)
```

---

TITLE: Express.js: Basic res.json Usage Examples
DESCRIPTION: Examples demonstrating how to use `res.json` to send different types of JSON responses, including handling HTTP status codes.

SOURCE: https://expressjs.com/en/starter/installing.html/api

LANGUAGE: JavaScript
CODE:

```
res.json(null)
res.json({ user: 'tobi' })
res.status(500).json({ error: 'message' })
```

---

TITLE: Basic Express.js Router Middleware with router.use()
DESCRIPTION: This example demonstrates setting up an Express application and a router, then applying a simple logger middleware and a "Hello World" response middleware using router.use(). It shows how middleware functions are invoked sequentially for matching paths.

SOURCE: https://expressjs.com/en/starter/installing.html/4x/api

LANGUAGE: JavaScript
CODE:

```
var express = require('express')
var app = express()
var router = express.Router()

// simple logger for this router's requests
// all requests to this router will first hit this middleware
router.use(function (req, res, next) {
  console.log('%s %s %s', req.method, req.url, req.path)
  next()
})

// this will only be invoked if the path starts with /bar from the mount point
router.use('/bar', function (req, res, next) {
  // ... maybe some additional /bar logging ...
  next()
})

// always invoked
router.use(function (req, res, next) {
  res.send('Hello World')
})

app.use('/foo', router)

app.listen(3000)
```

---

TITLE: Install Snyk CLI Globally for Security Scans
DESCRIPTION: This snippet demonstrates how to install the Snyk command-line interface globally, which allows you to test your applications for vulnerabilities. After installation, navigate into your application's root directory to prepare for scanning.

SOURCE: https://expressjs.com/en/starter/installing.html/advanced/best-practice-security

LANGUAGE: shell
CODE:

```
$ npm install -g snyk
$ cd your-app
```

---

TITLE: LevelDB: Install LevelUP Modules
DESCRIPTION: Command to install the 'level', 'levelup', and 'leveldown' modules for interacting with LevelDB in Node.js using npm.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/database-integration

LANGUAGE: Shell
CODE:

```
$ npm install level levelup leveldown
```

---

TITLE: Express.js: Override HTTP method using query string parameter
DESCRIPTION: This example illustrates how to configure an Express.js application to override HTTP methods using a query string parameter (e.g., `_method`). It provides a JavaScript snippet for middleware setup and an HTML form example, useful for supporting legacy browsers or plain HTML forms that need to use newer HTTP methods like DELETE.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/method-override

LANGUAGE: JavaScript
CODE:

```
const express = require('express')
const methodOverride = require('method-override')
const app = express()

// override with POST having ?_method=DELETE
app.use(methodOverride('_method'))
```

LANGUAGE: HTML
CODE:

```
<form method="POST" action="/resource?_method=DELETE">
  <button type="submit">Delete resource</button>
</form>
```

---

TITLE: Initialize Express Application
DESCRIPTION: Demonstrates how to import the Express module and create a new Express application instance using the `express()` top-level function.

SOURCE: https://expressjs.com/en/starter/installing.html/5x/api

LANGUAGE: JavaScript
CODE:

```
const express = require('express')
const app = express()
```

---

TITLE: Express.js app.put() Usage Example
DESCRIPTION: Provides a simple example of using `app.put()` to handle PUT requests to the homepage and send a response.

SOURCE: https://expressjs.com/en/starter/installing.html/4x/api

LANGUAGE: javascript
CODE:

```
app.put('/', function (req, res) {
  res.send('PUT request to homepage')
})
```

---

TITLE: Create and navigate to Express.js project directory
DESCRIPTION: This snippet shows how to create a new directory for your Express.js application and change your current working directory into it using standard shell commands.

SOURCE: https://expressjs.com/en/starter/installing.html/starter/installing

LANGUAGE: shell
CODE:

```
$ mkdir myapp
$ cd myapp
```

---

TITLE: Install Multer NPM Package
DESCRIPTION: Instructions to install the Multer middleware using npm, making it available for use in your Node.js project.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/multer

LANGUAGE: Shell
CODE:

```
$ npm install multer
```

---

TITLE: Install errorhandler npm package
DESCRIPTION: Instructions to install the `errorhandler` middleware using npm, the Node.js package manager.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/errorhandler

LANGUAGE: Shell
CODE:

```
$ npm install errorhandler

```

---

TITLE: Express.js: Handle POST Requests with app.post Example
DESCRIPTION: This example demonstrates how to use the app.post method in Express.js to handle incoming HTTP POST requests. It sets up a route for the root path ('/') and sends a simple response indicating a POST request to the homepage.

SOURCE: https://expressjs.com/en/starter/installing.html/5x/api

LANGUAGE: javascript
CODE:

```
app.post('/', (req, res) => {
  res.send('POST request to homepage')
})
```

---

TITLE: PostgreSQL: Install PG-Promise Module
DESCRIPTION: Command to install the 'pg-promise' module, a PostgreSQL client for Node.js with a promise-based API, using npm.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/database-integration

LANGUAGE: Shell
CODE:

```
$ npm install pg-promise
```

---

TITLE: Install connect-timeout Node.js Module
DESCRIPTION: This snippet demonstrates how to install the `connect-timeout` module using the npm package manager. It is a Node.js module available through the npm registry.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/timeout

LANGUAGE: Shell
CODE:

```
$ npm install connect-timeout
```

---

TITLE: Implement Page View Counter with Express.js Session
DESCRIPTION: This example demonstrates how to use `express-session` to track page views for individual users. It initializes a session, increments a view counter for specific paths, and displays the count to the user. Requires `express` and `parseurl`.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/session

LANGUAGE: JavaScript
CODE:

```
var express = require('express')
var parseurl = require('parseurl')
var session = require('express-session')

var app = express()

app.use(session({
  secret: 'keyboard cat',
  resave: false,
  saveUninitialized: true
}))

app.use(function (req, res, next) {
  if (!req.session.views) {
    req.session.views = {}
  }

  // get the url pathname
  var pathname = parseurl(req).pathname

  // count the views
  req.session.views[pathname] = (req.session.views[pathname] || 0) + 1

  next()
})

app.get('/foo', function (req, res, next) {
  res.send('you viewed this page ' + req.session.views['/foo'] + ' times')
})

app.get('/bar', function (req, res, next) {
  res.send('you viewed this page ' + req.session.views['/bar'] + ' times')
})

app.listen(3000)
```

---

TITLE: Enable Debugging for Express.js Session Module
DESCRIPTION: These commands show how to enable detailed logging for the `express-session` module using the `debug` package. By setting the `DEBUG` environment variable, developers can view internal session operation logs for troubleshooting. Examples are provided for both Unix-like and Windows environments.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/session

LANGUAGE: Bash
CODE:

```
DEBUG=express-session npm start
```

LANGUAGE: CMD
CODE:

```
set DEBUG=express-session & npm start
```

---

TITLE: Basic GET Route in Express.js
DESCRIPTION: This snippet demonstrates a basic GET route handler for the homepage ('/') in an Express.js application. It initializes an Express app and sends 'hello world' as a response to incoming GET requests.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/routing

LANGUAGE: JavaScript
CODE:

```
const express = require('express')
const app = express()

// respond with "hello world" when a GET request is made to the homepage
app.get('/', (req, res) => {
  res.send('hello world')
})
```

---

TITLE: Express.js Middleware Path Matching (Group Optional)
DESCRIPTION: Example of an Express.js middleware path pattern using `()` for grouping and `?` for optionality. This middleware will match paths starting with `/ad` (where 'bc' group is absent) and `/abcd` (where 'bc' group is present).

SOURCE: https://expressjs.com/en/starter/installing.html/4x/api

LANGUAGE: javascript
CODE:

```
app.use('/a(bc)?d', function (req, res, next) {
  next()
})
```

---

TITLE: Install Express.js temporarily without saving to dependencies
DESCRIPTION: Use the `--no-save` option with `npm install` to install Express.js for temporary use without adding it to the `dependencies` list in `package.json`. This is useful for testing or one-off tasks.

SOURCE: https://expressjs.com/en/starter/installing.html/starter/installing

LANGUAGE: shell
CODE:

```
$ npm install express --no-save
```

---

TITLE: Install serve-favicon Node.js module
DESCRIPTION: This snippet provides the command to install the `serve-favicon` Node.js module. It uses `npm install` to add the package to your project dependencies, making the middleware available for use in your application.

SOURCE: https://expressjs.com/en/starter/installing.html/resources/middleware/serve-favicon

LANGUAGE: Shell
CODE:

```
npm install serve-favicon
```

---

TITLE: Express.js: Start UNIX Socket Listener
DESCRIPTION: Starts a UNIX socket and listens for incoming connections on the specified path. This method is analogous to Node.js's `http.Server.listen()` and is used for server initialization.

SOURCE: https://expressjs.com/en/starter/installing.html/5x/api

LANGUAGE: JavaScript
CODE:

```
const express = require('express')
const app = express()
app.listen('/tmp/sock')
```

---

TITLE: CouchDB: Install Nano Module
DESCRIPTION: Command to install the 'nano' module, the official CouchDB client library for Node.js, using npm.

SOURCE: https://expressjs.com/en/starter/installing.html/guide/database-integration

LANGUAGE: Shell
CODE:

```
$ npm install nano
```

---

TITLE: Express.js: Getting Subdomains with req.subdomains
DESCRIPTION: The `req.subdomains` property provides an array of subdomains extracted from the domain name of the request. The application's `subdomain offset` setting, which defaults to 2, determines the starting point for identifying subdomain segments.

SOURCE: https://expressjs.com/en/starter/installing.html/5x/api

LANGUAGE: JavaScript
CODE:

```
// Host: "tobi.ferrets.example.com"
console.dir(req.subdomains)
// => ["ferrets", "tobi"]
```

---

TITLE: Install Dependencies for Generated Express App
DESCRIPTION: Navigate into the newly created Express application directory and install its required Node.js dependencies using npm.

SOURCE: https://expressjs.com/en/starter/installing.html/starter/generator

LANGUAGE: shell
CODE:

```
$ cd myapp
$ npm install
```

---

TITLE: Express.js Router Route with Multiple HTTP Method Handlers
DESCRIPTION: This example demonstrates how to use `router.route()` to define handlers for `all`, `get`, `put`, `post`, and `delete` HTTP methods on a single path (`/users/:user_id`), leveraging `router.param()` for user ID extraction and showing route-specific middleware.

SOURCE: https://expressjs.com/en/starter/installing.html/api

LANGUAGE: JavaScript
CODE:

```
const router = express.Router()

router.param('user_id', (req, res, next, id) => {
  // sample user, would actually fetch from DB, etc...
  req.user = {
    id,
    name: 'TJ'
  }
  next()
})

router.route('/users/:user_id')
  .all((req, res, next) => {
  // runs for all HTTP verbs first
  // think of it as route specific middleware!
    next()
  })
  .get((req, res, next) => {
    res.json(req.user)
  })
  .put((req, res, next) => {
  // just an example of maybe updating the user
    req.user.name = req.params.name
    // save user ... etc
    res.json(req.user)
  })
  .post((req, res, next) => {
    next(new Error('not implemented'))
  })
  .delete((req, res, next) => {
    next(new Error('not implemented'))
  })
```

---

TITLE: Express.js app.delete() Route Example
DESCRIPTION: Shows a basic example of handling a DELETE request to the root path (`/`) using `app.delete()`.

SOURCE: https://expressjs.com/en/starter/installing.html/api

LANGUAGE: javascript
CODE:

```
app.delete('/', (req, res) => {
  res.send('DELETE request to homepage')
})
```

---

TITLE: Express.js: Handling Multiple HTTP Methods with router.route()
DESCRIPTION: This example demonstrates how to use `router.route()` in Express.js to define a single path (`/users/:user_id`) and attach handlers for various HTTP methods (GET, PUT, POST, DELETE) and an `all` middleware. It builds upon a `router.param()` example to fetch user data, showcasing route-specific middleware and how to manage different operations for the same resource. Middleware ordering is based on route creation time, not when method handlers are added.

SOURCE: https://expressjs.com/en/starter/installing.html/4x/api

LANGUAGE: JavaScript
CODE:

```
var router = express.Router()

router.param('user_id', function (req, res, next, id) {
  // sample user, would actually fetch from DB, etc...
  req.user = {
    id: id,
    name: 'TJ'
  }
  next()
})

router.route('/users/:user_id')
  .all(function (req, res, next) {
    // runs for all HTTP verbs first
    // think of it as route specific middleware!
    next()
  })
  .get(function (req, res, next) {
    res.json(req.user)
  })
  .put(function (req, res, next) {
    // just an example of maybe updating the user
    req.user.name = req.params.name
    // save user ... etc
    res.json(req.user)
  })
  .post(function (req, res, next) {
    next(new Error('not implemented'))
  })
  .delete(function (req, res, next) {
    next(new Error('not implemented'))
  })
```
