========================
CODE SNIPPETS
========================

TITLE: Installing Jest
DESCRIPTION: Installs Jest as a development dependency using npm, making it available for testing within your project.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/GettingStarted.md#_snippet_0>

LANGUAGE: bash
CODE:

```
npm install --save-dev jest
```

---

TITLE: Install Jest
DESCRIPTION: Installs Jest as a development dependency using npm or yarn. This is the first step to integrating Jest into your project for testing.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/GettingStarted.md#_snippet_0>

LANGUAGE: bash
CODE:

```
npm install --save-dev jest
```

LANGUAGE: bash
CODE:

```
yarn add --dev jest
```

---

TITLE: Installing Jest with npm
DESCRIPTION: Instructions to install Jest as a development dependency using npm, which is the recommended way to add Jest to your project.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/GettingStarted.md#_snippet_0>

LANGUAGE: bash
CODE:

```
npm install --save-dev jest
```

---

TITLE: Install Jest
DESCRIPTION: Installs Jest as a development dependency using npm or yarn. This is the first step to integrating Jest into your project for testing.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/GettingStarted.md#_snippet_0>

LANGUAGE: bash
CODE:

```
npm install --save-dev jest
```

LANGUAGE: bash
CODE:

```
yarn add --dev jest
```

---

TITLE: Install Jest with npm
DESCRIPTION: Installs Jest as a development dependency using npm. This command is the initial step to integrate Jest into your project for testing purposes.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.7/GettingStarted.md#_snippet_0>

LANGUAGE: bash
CODE:

```
npm install --save-dev jest
```

---

TITLE: Install ts-jest for TypeScript Preprocessing
DESCRIPTION: Installs `ts-jest`, a TypeScript preprocessor for Jest that includes source map support. This allows Jest to directly test TypeScript projects.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/GettingStarted.md#_snippet_11>

LANGUAGE: bash
CODE:

```
npm install --save-dev ts-jest
```

---

TITLE: Installing Babel Preset TypeScript
DESCRIPTION: Installs the `@babel/preset-typescript` package as a development dependency, which enables Babel to transpile TypeScript code.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/GettingStarted.md#_snippet_11>

LANGUAGE: bash
CODE:

```
npm install --save-dev @babel/preset-typescript
```

---

TITLE: Install ts-jest for TypeScript Preprocessing
DESCRIPTION: Installs `ts-jest`, a TypeScript preprocessor for Jest that provides source map support. This allows Jest to directly test TypeScript projects.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.7/GettingStarted.md#_snippet_12>

LANGUAGE: bash
CODE:

```
npm install --save-dev ts-jest
```

---

TITLE: Initialize Jest Configuration
DESCRIPTION: Initializes Jest by prompting the user with questions to generate a basic configuration file tailored to the project. This command simplifies the setup process for Jest.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.7/GettingStarted.md#_snippet_5>

LANGUAGE: bash
CODE:

```
npm init jest@latest
```

---

TITLE: Running Jest with CLI options
DESCRIPTION: Demonstrates how to execute Jest directly from the command line with specific options. This example shows how to run tests matching 'my-test', use a custom configuration file, and enable OS notifications.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/GettingStarted.md#_snippet_5>

LANGUAGE: bash
CODE:

```
jest my-test --notify --config=config.json
```

---

TITLE: Install @types/jest for Jest Type Definitions
DESCRIPTION: Installs the `@types/jest` package, which provides types for Jest globals without requiring explicit imports. It's recommended to match Jest and `@types/jest` versions.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/GettingStarted.md#_snippet_14>

LANGUAGE: bash
CODE:

```
npm install --save-dev @types/jest
```

---

TITLE: Install ts-jest for TypeScript Preprocessing
DESCRIPTION: Installs `ts-jest`, a TypeScript preprocessor for Jest that includes source map support. This allows Jest to directly test TypeScript projects.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/GettingStarted.md#_snippet_11>

LANGUAGE: bash
CODE:

```
npm install --save-dev ts-jest
```

---

TITLE: Install Jest Website Dependencies
DESCRIPTION: Installs all necessary project dependencies for the Jest website using Yarn. This command should be run once in the root directory before starting development.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/README.md#_snippet_0>

LANGUAGE: bash
CODE:

```
yarn
```

---

TITLE: Installing Jest with npm
DESCRIPTION: This command installs Jest as a development dependency in your project using npm. The `--save-dev` flag ensures it's added to the `devDependencies` section of your `package.json`.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.6/GettingStarted.md#_snippet_0>

LANGUAGE: bash
CODE:

```
npm install --save-dev jest
```

---

TITLE: Installing Babel Dependencies for Jest
DESCRIPTION: Installs the necessary npm packages for integrating Babel with Jest, including `babel-jest`, `@babel/core`, and `@babel/preset-env`, enabling modern JavaScript features in tests.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/GettingStarted.md#_snippet_7>

LANGUAGE: bash
CODE:

```
npm install --save-dev babel-jest @babel/core @babel/preset-env
```

---

TITLE: Install @types/jest for Jest Type Definitions
DESCRIPTION: Installs the `@types/jest` package, which provides types for Jest globals without requiring explicit imports. It's recommended to match Jest and `@types/jest` versions.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/GettingStarted.md#_snippet_14>

LANGUAGE: bash
CODE:

```
npm install --save-dev @types/jest
```

---

TITLE: Run Jest from Command Line
DESCRIPTION: Demonstrates how to execute Jest directly from the command line with specific options. This example runs tests matching 'my-test', uses a custom configuration file, and enables native OS notifications upon completion.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.7/GettingStarted.md#_snippet_4>

LANGUAGE: bash
CODE:

```
jest my-test --notify --config=config.json
```

---

TITLE: Install Babel for Jest
DESCRIPTION: Installs necessary Babel dependencies for Jest to transpile modern JavaScript code. This is crucial for projects using features like ES6+ syntax.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/GettingStarted.md#_snippet_5>

LANGUAGE: bash
CODE:

```
npm install --save-dev babel-jest @babel/core @babel/preset-env
```

LANGUAGE: bash
CODE:

```
yarn add --dev babel-jest @babel/core @babel/preset-env
```

---

TITLE: Generating Jest Configuration File
DESCRIPTION: Initializes a basic Jest configuration file (`jest.config.js`) by prompting the user for project-specific settings, streamlining the setup process.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/GettingStarted.md#_snippet_6>

LANGUAGE: bash
CODE:

```
jest --init
```

---

TITLE: Install Babel for Jest
DESCRIPTION: Installs necessary Babel dependencies for Jest to transpile modern JavaScript code. This is crucial for projects using features like ES6+ syntax.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/GettingStarted.md#_snippet_5>

LANGUAGE: bash
CODE:

```
npm install --save-dev babel-jest @babel/core @babel/preset-env
```

LANGUAGE: bash
CODE:

```
yarn add --dev babel-jest @babel/core @babel/preset-env
```

---

TITLE: Install Babel Preset for TypeScript
DESCRIPTION: Installs the Babel preset for TypeScript, enabling Jest to transpile TypeScript code via Babel. This is a prerequisite for using Babel-based TypeScript integration.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.7/GettingStarted.md#_snippet_10>

LANGUAGE: bash
CODE:

```
npm install --save-dev @babel/preset-typescript
```

---

TITLE: Installing ts-jest for TypeScript Support
DESCRIPTION: Installs the `ts-jest` package as a development dependency, which is a TypeScript preprocessor for Jest, enabling Jest to test projects written in TypeScript with source map support.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/GettingStarted.md#_snippet_13>

LANGUAGE: bash
CODE:

```
npm install --save-dev ts-jest
```

---

TITLE: Install Babel Dependencies for Jest
DESCRIPTION: Installs necessary Babel packages as development dependencies for using Babel with Jest. This includes `@babel/core` for core Babel functionality and `@babel/preset-env` for environment-specific transformations.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.7/GettingStarted.md#_snippet_6>

LANGUAGE: bash
CODE:

```
npm install --save-dev babel-jest @babel/core @babel/preset-env
```

---

TITLE: Install @types/jest for Jest Type Definitions
DESCRIPTION: Installs the `@types/jest` package, which provides type definitions for Jest globals. This allows using Jest APIs directly in TypeScript without explicit imports, but requires matching versions.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.7/GettingStarted.md#_snippet_14>

LANGUAGE: bash
CODE:

```
npm install --save-dev @types/jest
```

---

TITLE: Installing Babel Dependencies for Jest
DESCRIPTION: This command installs the necessary Babel packages as development dependencies for integrating Babel with Jest. `babel-jest` is the Jest transformer, `@babel/core` is the main Babel library, and `@babel/preset-env` is a common preset.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.6/GettingStarted.md#_snippet_7>

LANGUAGE: bash
CODE:

```
npm install --save-dev babel-jest @babel/core @babel/preset-env
```

---

TITLE: Install Jest Globals Type Definitions
DESCRIPTION: Installs the `@jest/globals` package to provide type definitions for Jest's global APIs like `describe`, `test`, and `expect` in TypeScript test files.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/GettingStarted.md#_snippet_12>

LANGUAGE: bash
CODE:

```
npm install --save-dev @jest/globals
```

---

TITLE: Install Jest Globals Type Definitions
DESCRIPTION: Installs the `@jest/globals` package to provide type definitions for Jest's global APIs like `describe`, `test`, and `expect` in TypeScript test files.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/GettingStarted.md#_snippet_12>

LANGUAGE: bash
CODE:

```
npm install --save-dev @jest/globals
```

---

TITLE: Generate Jest Configuration
DESCRIPTION: Initializes Jest in your project by asking questions and creating a basic configuration file. This command helps set up Jest with sensible defaults.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/GettingStarted.md#_snippet_4>

LANGUAGE: bash
CODE:

```
npm init jest@latest
```

---

TITLE: Example Jest test run output
DESCRIPTION: Shows the expected output when running Jest tests successfully. It indicates that the test file `sum.test.js` passed and details the specific test case that was executed.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/GettingStarted.md#_snippet_4>

LANGUAGE: bash
CODE:

```
PASS  ./sum.test.js
✓ adds 1 + 2 to equal 3 (5ms)
```

---

TITLE: Jest: One-Time Setup with beforeAll and afterAll
DESCRIPTION: This example shows how to use Jest's `beforeAll` and `afterAll` hooks for setup and teardown operations that should only occur once per file or `describe` block. These are ideal for expensive setup tasks or when resources can be shared across multiple tests, supporting asynchronous operations via promises.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/SetupAndTeardown.md#_snippet_1>

LANGUAGE: javascript
CODE:

```
beforeAll(() => {
  // Handles asynchronous one-time setup
  return initializeCityDatabase();
});

afterAll(() => {
  // Handles asynchronous one-time teardown
  return clearCityDatabase();
});

test('city database has Vienna', () => {
  expect(isCity('Vienna')).toBeTruthy();
});

test('city database has San Juan', () => {
  expect(isCity('San Juan')).toBeTruthy();
});
```

---

TITLE: Installing Babel Preset for TypeScript
DESCRIPTION: Installs the `@babel/preset-typescript` package as a development dependency. This preset enables Babel to transpile TypeScript code, allowing Jest to process TypeScript files.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.6/GettingStarted.md#_snippet_11>

LANGUAGE: bash
CODE:

```
npm install --save-dev @babel/preset-typescript
```

---

TITLE: Jest: One-Time Setup with beforeAll and afterAll
DESCRIPTION: This example shows how to use Jest's `beforeAll` and `afterAll` hooks for setup and teardown operations that should only occur once per file or `describe` block. These are ideal for expensive setup tasks or when resources can be shared across multiple tests, supporting asynchronous operations via promises.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.7/SetupAndTeardown.md#_snippet_1>

LANGUAGE: javascript
CODE:

```
beforeAll(() => {
  // Handles asynchronous one-time setup
  return initializeCityDatabase();
});

afterAll(() => {
  // Handles asynchronous one-time teardown
  return clearCityDatabase();
});

test('city database has Vienna', () => {
  expect(isCity('Vienna')).toBeTruthy();
});

test('city database has San Juan', () => {
  expect(isCity('San Juan')).toBeTruthy();
});
```

---

TITLE: Generate Jest Configuration
DESCRIPTION: Initializes Jest in your project by asking questions and creating a basic configuration file. This command helps set up Jest with sensible defaults.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/GettingStarted.md#_snippet_4>

LANGUAGE: bash
CODE:

```
npm init jest@latest
```

---

TITLE: Installing ts-jest for TypeScript Support
DESCRIPTION: Installs `ts-jest` as a development dependency. `ts-jest` is a TypeScript preprocessor for Jest that provides source map support, allowing Jest to directly test projects written in TypeScript with type-checking capabilities.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.6/GettingStarted.md#_snippet_13>

LANGUAGE: bash
CODE:

```
npm install --save-dev ts-jest
```

---

TITLE: Jest: One-Time Setup with beforeAll and afterAll
DESCRIPTION: This example shows how to use Jest's `beforeAll` and `afterAll` hooks for setup and teardown operations that should only occur once per file or `describe` block. These are ideal for expensive setup tasks or when resources can be shared across multiple tests, supporting asynchronous operations via promises.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/SetupAndTeardown.md#_snippet_1>

LANGUAGE: javascript
CODE:

```
beforeAll(() => {
  // Handles asynchronous one-time setup
  return initializeCityDatabase();
});

afterAll(() => {
  // Handles asynchronous one-time teardown
  return clearCityDatabase();
});

test('city database has Vienna', () => {
  expect(isCity('Vienna')).toBeTruthy();
});

test('city database has San Juan', () => {
  expect(isCity('San Juan')).toBeTruthy();
});
```

---

TITLE: Install Babel Preset for TypeScript
DESCRIPTION: Installs the Babel preset for TypeScript, enabling Jest to transpile TypeScript code via Babel. This method does not perform type checking.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/GettingStarted.md#_snippet_9>

LANGUAGE: bash
CODE:

```
npm install --save-dev @babel/preset-typescript
```

---

TITLE: Installing Babel TypeScript Preset for Jest
DESCRIPTION: This command installs the @babel/preset-typescript package as a development dependency. This preset is required to enable TypeScript transpilation via Babel for Jest tests, allowing Babel to understand and process TypeScript syntax.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/GettingStarted.md#_snippet_11>

LANGUAGE: Bash
CODE:

```
npm install --save-dev @babel/preset-typescript
```

---

TITLE: Configuring ESLint with Jest Plugin
DESCRIPTION: Configures ESLint to use `eslint-plugin-jest`, enabling specific Jest-related linting rules and making Jest globals available. This setup is an alternative to the basic `jest` environment configuration for more comprehensive Jest linting.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/GettingStarted.md#_snippet_18>

LANGUAGE: json
CODE:

```
{
  "overrides": [
    {
      "files": ["tests/**/*"],
      "plugins": ["jest"],
      "env": {
        "jest/globals": true
      }
    }
  ]
}
```

---

TITLE: Handling Asynchronous Setup with beforeEach in Jest
DESCRIPTION: This example shows how `beforeEach` can handle asynchronous setup code by returning a Promise. This ensures that the setup operation, such as database initialization, completes successfully before any tests dependent on it begin execution.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/SetupAndTeardown.md#_snippet_1>

LANGUAGE: JavaScript
CODE:

```
beforeEach(() => {
  return initializeCityDatabase();
});
```

---

TITLE: Install Babel Preset for TypeScript
DESCRIPTION: Installs the Babel preset for TypeScript, enabling Jest to transpile TypeScript code via Babel. This method does not perform type checking.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/GettingStarted.md#_snippet_9>

LANGUAGE: bash
CODE:

```
npm install --save-dev @babel/preset-typescript
```

---

TITLE: Running Jest with CLI Options
DESCRIPTION: Demonstrates how to execute Jest directly from the command line with specific options, such as filtering tests by name, using a custom configuration file, and enabling OS notifications.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/GettingStarted.md#_snippet_5>

LANGUAGE: bash
CODE:

```
jest my-test --notify --config=config.json
```

---

TITLE: Installing Jest Type Definitions from DefinitelyTyped
DESCRIPTION: Installs the `@types/jest` package as a development dependency, which provides global type definitions for Jest APIs without requiring explicit imports. This package is maintained by the DefinitelyTyped community.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/GettingStarted.md#_snippet_16>

LANGUAGE: bash
CODE:

```
npm install --save-dev @types/jest
```

---

TITLE: Installing Jest Globals Type Definitions
DESCRIPTION: Installs the `@jest/globals` package as a development dependency, providing type definitions for Jest's global APIs directly from Jest, ensuring types are updated with Jest versions.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/GettingStarted.md#_snippet_14>

LANGUAGE: bash
CODE:

```
npm install --save-dev @jest/globals
```

---

TITLE: Installing @types/jest for Global Type Definitions
DESCRIPTION: This command installs the @types/jest package as a development dependency. This package provides global type definitions for Jest APIs, allowing TypeScript to recognize Jest globals like 'describe' and 'test' without requiring explicit imports in each test file.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/GettingStarted.md#_snippet_16>

LANGUAGE: Bash
CODE:

```
npm install --save-dev @types/jest
```

---

TITLE: Run Jest Tests from CLI
DESCRIPTION: Shows how to execute Jest tests directly from the command line, specifying files to test, using a configuration file, and enabling native OS notifications.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/GettingStarted.md#_snippet_3>

LANGUAGE: bash
CODE:

```
jest my-test --notify --config=config.json
```

---

TITLE: Installing Babel dependencies for Jest
DESCRIPTION: Installs the necessary Babel packages (`babel-jest`, `@babel/core`, `@babel/preset-env`) as development dependencies. These are required to enable Babel transformation for your JavaScript code within Jest.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/GettingStarted.md#_snippet_7>

LANGUAGE: bash
CODE:

```
npm install --save-dev babel-jest @babel/core @babel/preset-env
```

---

TITLE: Run Jest Tests from CLI
DESCRIPTION: Shows how to execute Jest tests directly from the command line, specifying files to test, using a configuration file, and enabling native OS notifications.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/GettingStarted.md#_snippet_3>

LANGUAGE: bash
CODE:

```
jest my-test --notify --config=config.json
```

---

TITLE: Installing ts-jest for TypeScript Support in Jest
DESCRIPTION: This command installs the ts-jest package as a development dependency. ts-jest is a TypeScript preprocessor for Jest that provides source map support, allowing Jest to directly test projects written in TypeScript with type-checking capabilities.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/GettingStarted.md#_snippet_13>

LANGUAGE: Bash
CODE:

```
npm install --save-dev ts-jest
```

---

TITLE: Configuring ESLint with eslint-plugin-jest
DESCRIPTION: Configures ESLint to use `eslint-plugin-jest` for recognizing Jest globals and enforcing Jest-specific linting rules. This setup adds the `jest` plugin and enables the `jest/globals` environment, providing comprehensive linting for Jest test files.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.6/GettingStarted.md#_snippet_18>

LANGUAGE: json
CODE:

```
{
  "overrides": [
    {
      "files": ["tests/**/*"],
      "plugins": ["jest"],
      "env": {
        "jest/globals": true
      }
    }
  ]
}
```

---

TITLE: Installing Jest and Babel Dependencies for React (Manual Setup)
DESCRIPTION: Installs Jest, `babel-jest`, Babel presets for environment and React, and `react-test-renderer` as development dependencies for existing React applications, preparing the test environment.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/TutorialReact.md#_snippet_1>

LANGUAGE: bash
CODE:

```
npm install --save-dev jest babel-jest @babel/preset-env @babel/preset-react react-test-renderer
```

---

TITLE: Installing Jest Type Definitions from DefinitelyTyped
DESCRIPTION: Installs the `@types/jest` package as a development dependency. This package provides global type definitions for Jest APIs, eliminating the need for explicit imports in TypeScript test files, though it's a third-party library.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.6/GettingStarted.md#_snippet_16>

LANGUAGE: bash
CODE:

```
npm install --save-dev @types/jest
```

---

TITLE: Jest: Setup/Teardown Execution Order Example
DESCRIPTION: This example demonstrates the execution order of Jest's setup and teardown hooks, including nested `describe` blocks. It clarifies how top-level hooks, `describe`-scoped hooks, and tests are interleaved during test execution, which is crucial for understanding complex test suites.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/SetupAndTeardown.md#_snippet_3>

LANGUAGE: javascript
CODE:

```
beforeAll(() => console.log('1 - beforeAll'));
afterAll(() => console.log('1 - afterAll'));
beforeEach(() => console.log('1 - beforeEach'));
afterEach(() => console.log('1 - afterEach'));

test('', () => console.log('1 - test'));

describe('Scoped / Nested block', () => {
  beforeAll(() => console.log('2 - beforeAll'));
  afterAll(() => console.log('2 - afterAll'));
  beforeEach(() => console.log('2 - beforeEach'));
  afterEach(() => console.log('2 - afterEach'));

  test('', () => console.log('2 - test'));
});

// Expected Output:
// 1 - beforeAll
// 1 - beforeEach
// 1 - test
// 1 - afterEach
// 2 - beforeAll
// 1 - beforeEach
// 2 - beforeEach
// 2 - test
// 2 - afterEach
// 1 - afterEach
// 2 - afterAll
// 1 - afterAll
```

---

TITLE: Installing Jest Globals for TypeScript Type Definitions
DESCRIPTION: This command installs the @jest/globals package as a development dependency. This package provides type definitions for Jest's global APIs, such as 'describe', 'expect', and 'test', ensuring that TypeScript can correctly type-check their usage in test files when explicitly imported.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/GettingStarted.md#_snippet_14>

LANGUAGE: Bash
CODE:

```
npm install --save-dev @jest/globals
```

---

TITLE: Handling Asynchronous Setup with beforeEach Promise in Jest
DESCRIPTION: This example shows how `beforeEach` can handle asynchronous setup by returning a Promise. If `initializeCityDatabase()` returns a Promise, Jest waits for it to resolve before proceeding with the tests, ensuring the database is fully initialized.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/SetupAndTeardown.md#_snippet_1>

LANGUAGE: js
CODE:

```
beforeEach(() => {
  return initializeCityDatabase();
});
```

---

TITLE: Run Jest Website Dev Server
DESCRIPTION: Starts the development server for the Jest website. This command allows for local testing and development of the website content and features.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/README.md#_snippet_2>

LANGUAGE: bash
CODE:

```
yarn start
```

---

TITLE: Jest: Setup/Teardown Execution Order Example
DESCRIPTION: This example demonstrates the execution order of Jest's setup and teardown hooks, including nested `describe` blocks. It clarifies how top-level hooks, `describe`-scoped hooks, and tests are interleaved during test execution, which is crucial for understanding complex test suites.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.7/SetupAndTeardown.md#_snippet_3>

LANGUAGE: javascript
CODE:

```
beforeAll(() => console.log('1 - beforeAll'));
afterAll(() => console.log('1 - afterAll'));
beforeEach(() => console.log('1 - beforeEach'));
afterEach(() => console.log('1 - afterEach'));

test('', () => console.log('1 - test'));

describe('Scoped / Nested block', () => {
  beforeAll(() => console.log('2 - beforeAll'));
  afterAll(() => console.log('2 - afterAll'));
  beforeEach(() => console.log('2 - beforeEach'));
  afterEach(() => console.log('2 - afterEach'));

  test('', () => console.log('2 - test'));
});

// Expected Output:
// 1 - beforeAll
// 1 - beforeEach
// 1 - test
// 1 - afterEach
// 2 - beforeAll
// 1 - beforeEach
// 2 - beforeEach
// 2 - test
// 2 - afterEach
// 1 - afterEach
// 2 - afterAll
// 1 - afterAll
```

---

TITLE: Installing Jest Global Type Definitions
DESCRIPTION: Installs the `@jest/globals` package as a development dependency. This package provides type definitions for Jest's global APIs, such as `describe`, `expect`, and `test`, ensuring type safety in TypeScript test files.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.6/GettingStarted.md#_snippet_14>

LANGUAGE: bash
CODE:

```
npm install --save-dev @jest/globals
```

---

TITLE: Website Development Workflow
DESCRIPTION: This sequence of commands outlines the steps to set up and run the Jest website development server. It includes navigating to the website directory, installing dependencies, fetching data, and starting the server.

SOURCE: <https://github.com/jestjs/jest/blob/main/CONTRIBUTING.md#_snippet_9>

LANGUAGE: sh-session
CODE:

```
cd website       # Only needed if you are not already in the website directory
yarn
node fetchSupporters.js
yarn start
```

---

TITLE: Example Jest Test Output
DESCRIPTION: This bash output demonstrates the typical console message Jest prints after successfully running a test. It indicates the test file, the specific test description, and the time taken for execution.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.6/GettingStarted.md#_snippet_4>

LANGUAGE: bash
CODE:

```
PASS  ./sum.test.js
✓ adds 1 + 2 to equal 3 (5ms)
```

---

TITLE: Running Jest from Command Line with Options
DESCRIPTION: This command illustrates how to execute Jest directly from the command line with various options. It shows filtering tests by name (`my-test`), enabling OS notifications (`--notify`), and specifying a configuration file (`--config=config.json`).

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.6/GettingStarted.md#_snippet_5>

LANGUAGE: bash
CODE:

```
jest my-test --notify --config=config.json
```

---

TITLE: Configure Jest Test Script
DESCRIPTION: Adds a `test` script to your `package.json` file, allowing you to run Jest tests easily using npm or yarn commands.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/GettingStarted.md#_snippet_2>

LANGUAGE: json
CODE:

```
{
  "scripts": {
    "test": "jest"
  }
}
```

---

TITLE: Jest: Setup/Teardown Execution Order Example
DESCRIPTION: This example demonstrates the execution order of Jest's setup and teardown hooks, including nested `describe` blocks. It clarifies how top-level hooks, `describe`-scoped hooks, and tests are interleaved during test execution, which is crucial for understanding complex test suites.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/SetupAndTeardown.md#_snippet_3>

LANGUAGE: javascript
CODE:

```
beforeAll(() => console.log('1 - beforeAll'));
afterAll(() => console.log('1 - afterAll'));
beforeEach(() => console.log('1 - beforeEach'));
afterEach(() => console.log('1 - afterEach'));

test('', () => console.log('1 - test'));

describe('Scoped / Nested block', () => {
  beforeAll(() => console.log('2 - beforeAll'));
  afterAll(() => console.log('2 - afterAll'));
  beforeEach(() => console.log('2 - beforeEach'));
  afterEach(() => console.log('2 - afterEach'));

  test('', () => console.log('2 - test'));
});

// Expected Output:
// 1 - beforeAll
// 1 - beforeEach
// 1 - test
// 1 - afterEach
// 2 - beforeAll
// 1 - beforeEach
// 2 - beforeEach
// 2 - test
// 2 - afterEach
// 1 - afterEach
// 2 - afterAll
// 1 - afterAll
```

---

TITLE: Configure Jest Test Script
DESCRIPTION: Adds a `test` script to your `package.json` file, allowing you to run Jest tests easily using npm or yarn commands.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/GettingStarted.md#_snippet_2>

LANGUAGE: json
CODE:

```
{
  "scripts": {
    "test": "jest"
  }
}
```

---

TITLE: Generating a basic Jest configuration file
DESCRIPTION: Provides the command to interactively generate a basic Jest configuration file (`jest.config.js`). Jest will ask a series of questions to help tailor the configuration to your project's needs.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/GettingStarted.md#_snippet_6>

LANGUAGE: bash
CODE:

```
jest --init
```

---

TITLE: Configure Babel for Jest
DESCRIPTION: Creates a `babel.config.js` file to configure Babel for your project, targeting the current Node.js environment. This ensures compatibility when Jest runs your code.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/GettingStarted.md#_snippet_6>

LANGUAGE: javascript
CODE:

```
module.exports = {
  presets: [['@babel/preset-env', {targets: {node: 'current'}}]],
};
```

---

TITLE: Run Jest Website Dev Server (Monorepo)
DESCRIPTION: An alternative command to start the Jest website development server when working from the root of the Jest monorepo. It specifies the workspace to run the start command within.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/README.md#_snippet_3>

LANGUAGE: bash
CODE:

```
yarn workspace jest-website start
```

---

TITLE: Configuring Babel for Jest with Node target
DESCRIPTION: Creates a `babel.config.js` file to configure Babel. This setup uses `@babel/preset-env` and targets the current Node.js version, ensuring compatibility for your test environment.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/GettingStarted.md#_snippet_8>

LANGUAGE: javascript
CODE:

```
module.exports = {
  presets: [['@babel/preset-env', {targets: {node: 'current'}}]],
};
```

---

TITLE: Configure ESLint with eslint-plugin-jest
DESCRIPTION: Configures ESLint using `eslint-plugin-jest` to enable Jest-specific rules and recognize Jest globals. This is an alternative to manually configuring the `jest` environment.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/GettingStarted.md#_snippet_16>

LANGUAGE: json
CODE:

```
{
  "overrides": [
    {
      "files": ["tests/**/*"],
      "plugins": ["jest"],
      "env": {
        "jest/globals": true
      }
    }
  ]
}
```

---

TITLE: Configure Babel for Jest
DESCRIPTION: Creates a `babel.config.js` file to configure Babel for your project, targeting the current Node.js environment. This ensures compatibility when Jest runs your code.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/GettingStarted.md#_snippet_6>

LANGUAGE: javascript
CODE:

```
module.exports = {
  presets: [['@babel/preset-env', {targets: {node: 'current'}}]],
};
```

---

TITLE: Jest-Aware Babel Configuration
DESCRIPTION: This `babel.config.js` example demonstrates how to create a Babel configuration that can adapt based on the environment. It uses `api.env('test')` to detect if Jest is running, allowing conditional application of presets or plugins specific to the test environment.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.6/GettingStarted.md#_snippet_9>

LANGUAGE: javascript
CODE:

```
module.exports = api => {
  const isTest = api.env('test');
  // You can use isTest to determine what presets and plugins to use.

  return {
    // ...
  };
};
```

---

TITLE: Jest Setup Script: setup-jest.js
DESCRIPTION: An example setup script for Jest's setupFilesAfterEnv. This script extends Jest's expect with custom matchers and resets timers after each test.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/Configuration.md#_snippet_63>

LANGUAGE: js
CODE:

```
const matchers = require('jest-extended');
expect.extend(matchers);

afterEach(() => {
  jest.useRealTimers();
});
```

---

TITLE: Jest Setup Script: setup-jest.js
DESCRIPTION: An example setup script for Jest's setupFilesAfterEnv. This script extends Jest's expect with custom matchers and resets timers after each test.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/Configuration.md#_snippet_60>

LANGUAGE: js
CODE:

```
const matchers = require('jest-extended');
expect.extend(matchers);

afterEach(() => {
  jest.useRealTimers();
});
```

---

TITLE: Configuring Jest to Use Setup Files After Environment in JavaScript
DESCRIPTION: This JavaScript configuration snippet illustrates how to include a `setupFilesAfterEnv` module in Jest's configuration. It specifies the path to a setup file (`<rootDir>/setup-jest.js`) that will run after the test framework is installed, allowing for global setup and teardown logic.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.6/Configuration.md#_snippet_71>

LANGUAGE: JavaScript
CODE:

```
/** @type {import('jest').Config} */
const config = {
  setupFilesAfterEnv: ['<rootDir>/setup-jest.js'],
};

module.exports = config;
```

---

TITLE: Jest Babel Configuration with Conditional Logic
DESCRIPTION: An advanced Babel configuration example for `babel.config.js` that uses Jest's environment variable (`process.env.NODE_ENV` set to 'test') to conditionally apply presets or plugins. This allows for optimized compilation specifically for test runs.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.7/GettingStarted.md#_snippet_8>

LANGUAGE: javascript
CODE:

```
module.exports = api => {
  const isTest = api.env('test');
  // You can use isTest to determine what presets and plugins to use.

  return {
    // ...
  };
};
```

---

TITLE: Generating Jest Configuration File
DESCRIPTION: This command initiates an interactive process to generate a basic Jest configuration file (`jest.config.js`). Jest will ask questions about your project to create a suitable default configuration.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.6/GettingStarted.md#_snippet_6>

LANGUAGE: bash
CODE:

```
jest --init
```

---

TITLE: Configure ESLint with eslint-plugin-jest
DESCRIPTION: Configures ESLint using `eslint-plugin-jest` to enable Jest-specific rules and recognize Jest globals. This is an alternative to manually configuring the `jest` environment.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/GettingStarted.md#_snippet_16>

LANGUAGE: json
CODE:

```
{
  "overrides": [
    {
      "files": ["tests/**/*"],
      "plugins": ["jest"],
      "env": {
        "jest/globals": true
      }
    }
  ]
}
```

---

TITLE: Handling Asynchronous beforeEach with Promises in Jest
DESCRIPTION: This example shows how beforeEach can handle asynchronous setup by returning a Promise. If initializeCityDatabase() returns a promise, Jest will wait for that promise to resolve before proceeding with the tests, ensuring the database is fully initialized.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.6/SetupAndTeardown.md#_snippet_1>

LANGUAGE: JavaScript
CODE:

```
beforeEach(() => {
  return initializeCityDatabase();
});
```

---

TITLE: Write a Simple Jest Test
DESCRIPTION: Demonstrates writing a basic test for a JavaScript function. It involves creating the function file and a corresponding test file using Jest's `test` and `expect` APIs.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/GettingStarted.md#_snippet_1>

LANGUAGE: javascript
CODE:

```
function sum(a, b) {
  return a + b;
}
module.exports = sum;
```

LANGUAGE: javascript
CODE:

```
const sum = require('./sum');

test('adds 1 + 2 to equal 3', () => {
  expect(sum(1, 2)).toBe(3);
});
```

---

TITLE: Conditional Babel Configuration
DESCRIPTION: Demonstrates how to conditionally configure Babel presets and plugins based on the environment, such as setting up specific configurations for Jest tests.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/GettingStarted.md#_snippet_7>

LANGUAGE: javascript
CODE:

```
module.exports = api => {
  const isTest = api.env('test');
  // You can use isTest to determine what presets and plugins to use.

  return {
    // ...
  };
};
```

---

TITLE: Configuring Babel for Jest (Jest-aware)
DESCRIPTION: Shows how to create a Jest-aware Babel configuration that conditionally applies presets and plugins based on the `NODE_ENV` being 'test', optimizing compilation for testing environments.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/GettingStarted.md#_snippet_9>

LANGUAGE: javascript
CODE:

```
module.exports = api => {
  const isTest = api.env('test');
  // You can use isTest to determine what presets and plugins to use.

  return {
    // ...
  };
};
```

---

TITLE: Configure ESLint with eslint-plugin-jest
DESCRIPTION: Configures ESLint to use the `eslint-plugin-jest` and enable its globals. This is an alternative method to recognize Jest globals and prevent `no-undef` errors.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.7/GettingStarted.md#_snippet_16>

LANGUAGE: json
CODE:

```
{
  "overrides": [
    {
      "files": ["tests/**/*"],
      "plugins": ["jest"],
      "env": {
        "jest/globals": true
      }
    }
  ]
}
```

---

TITLE: Write a Simple Jest Test
DESCRIPTION: Demonstrates writing a basic test for a JavaScript function. It involves creating the function file and a corresponding test file using Jest's `test` and `expect` APIs.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/GettingStarted.md#_snippet_1>

LANGUAGE: javascript
CODE:

```
function sum(a, b) {
  return a + b;
}
module.exports = sum;
```

LANGUAGE: javascript
CODE:

```
const sum = require('./sum');

test('adds 1 + 2 to equal 3', () => {
  expect(sum(1, 2)).toBe(3);
});
```

---

TITLE: Install Jest dependencies for custom React setup
DESCRIPTION: Installs essential packages for testing React applications without Create React App. Includes Jest, `babel-jest` for Babel transformation, `@babel/preset-env` and `@babel/preset-react` for React compatibility, and `react-test-renderer`.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/TutorialReact.md#_snippet_1>

LANGUAGE: bash
CODE:

```
npm install --save-dev jest babel-jest @babel/preset-env @babel/preset-react react-test-renderer
```

---

TITLE: Example: Get all .js files
DESCRIPTION: An example showing how to configure HasteMap to crawl only .js files and retrieve all found files.

SOURCE: <https://github.com/jestjs/jest/blob/main/packages/jest-haste-map/README.md#_snippet_2>

LANGUAGE: javascript
CODE:

```
import HasteMap from 'jest-haste-map';
import os from 'os';
import {dirname} from 'path';
import {fileURLToPath} from 'url';

const root = dirname(fileURLToPath(import.meta.url));

const map = new HasteMap.default({
  id: 'myproject', //Used for caching.
  extensions: ['js'], // Tells jest-haste-map to only crawl .js files.
  maxWorkers: os.availableParallelism(), //Parallelizes across all available CPUs.
  platforms: [], // This is only used for React Native, you can leave it empty.
  roots: [root], // Can be used to only search a subset of files within `rootDir`
  retainAllFiles: true,
  rootDir: root, //The project root.
});

const {hasteFS} = await map.build();

const files = hasteFS.getAllFiles();

console.log(files);
```

---

TITLE: Configuring Jest to Use Setup Files After Environment in JavaScript
DESCRIPTION: This JavaScript configuration snippet shows how to include a setup file, `setup-jest.js`, using the `setupFilesAfterEnv` option. This ensures the specified script runs after the test framework is installed but before test code execution, allowing for global setup like extending matchers.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/Configuration.md#_snippet_60>

LANGUAGE: JavaScript
CODE:

```
/** @type {import('jest').Config} */
const config = {
  setupFilesAfterEnv: ['<rootDir>/setup-jest.js'],
};

module.exports = config;
```

---

TITLE: Install Jest dependencies for custom React setup
DESCRIPTION: Installs essential packages for testing React applications without Create React App. Includes Jest, `babel-jest` for Babel transformation, `@babel/preset-env` and `@babel/preset-react` for React compatibility, and `react-test-renderer`.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.7/TutorialReact.md#_snippet_1>

LANGUAGE: bash
CODE:

```
npm install --save-dev jest babel-jest @babel/preset-env @babel/preset-react react-test-renderer
```

---

TITLE: Managing Resource Setup and Teardown with Jest Hooks in JavaScript
DESCRIPTION: This example illustrates the execution order of `beforeEach` and `afterEach` hooks in Jest, including nested `describe` blocks. It shows how `beforeEach` hooks run in declaration order, while `afterEach` hooks of the enclosing scope are called first, demonstrating a pattern for dependent resource management.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/SetupAndTeardown.md#_snippet_6>

LANGUAGE: JavaScript
CODE:

```
beforeEach(() => console.log('connection setup'));
beforeEach(() => console.log('database setup'));

afterEach(() => console.log('database teardown'));
afterEach(() => console.log('connection teardown'));

test('test 1', () => console.log('test 1'));

describe('extra', () => {
  beforeEach(() => console.log('extra database setup'));
  afterEach(() => console.log('extra database teardown'));

  test('test 2', () => console.log('test 2'));
});

// connection setup
// database setup
// test 1
// database teardown
// connection teardown

// connection setup
// database setup
// extra database setup
// test 2
// extra database teardown
// database teardown
// connection teardown
```

---

TITLE: Jest Test Run Output
DESCRIPTION: Shows the expected output from running Jest tests, indicating a successful test run for `sum.test.js` and confirming the test passed.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/GettingStarted.md#_snippet_4>

LANGUAGE: bash
CODE:

```
PASS  ./sum.test.js
✓ adds 1 + 2 to equal 3 (5ms)
```

---

TITLE: Installing Jest Puppeteer Preset (npm)
DESCRIPTION: This command installs the `jest-puppeteer` package as a development dependency, which provides pre-configured settings for integrating Jest with Puppeteer. It's the first step to using the preset for simplified setup.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/Puppeteer.md#_snippet_0>

LANGUAGE: bash
CODE:

```
npm install --save-dev jest-puppeteer
```

---

TITLE: Add Jest Test Script to package.json
DESCRIPTION: Configures the `scripts` section in your `package.json` file to include a `test` command that runs Jest. This allows you to execute your tests using `npm test` or `yarn test`.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.7/GettingStarted.md#_snippet_3>

LANGUAGE: json
CODE:

```
{
  "scripts": {
    "test": "jest"
  }
}
```

---

TITLE: Configuring Jest to Run Setup Files After Environment (JavaScript)
DESCRIPTION: This JavaScript configuration snippet shows how to include a setup file, `setup-jest.js`, in the `setupFilesAfterEnv` array. This ensures the specified module runs after the test framework is installed but before test code, allowing for global test environment setup.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/Configuration.md#_snippet_73>

LANGUAGE: JavaScript
CODE:

```
/** @type {import('jest').Config} */
const config = {
  setupFilesAfterEnv: ['<rootDir>/setup-jest.js'],
};

module.exports = config;
```

---

TITLE: Implementing Global Setup in Jest (JavaScript)
DESCRIPTION: This example shows a `globalSetup` module (`setup.js`) that exports an async function. This function runs once before all test suites, receiving Jest's `globalConfig` and `projectConfig` as arguments. It demonstrates setting a global reference (`__MONGOD__`) for use in `globalTeardown`.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/Configuration.md#_snippet_35>

LANGUAGE: javascript
CODE:

```
module.exports = async function (globalConfig, projectConfig) {
  console.log(globalConfig.testPathPattern);
  console.log(projectConfig.cache);

  // Set reference to mongod in order to close the server during teardown.
  globalThis.__MONGOD__ = mongod;
};
```

---

TITLE: Conditional Babel Configuration
DESCRIPTION: Demonstrates how to conditionally configure Babel presets and plugins based on the environment, such as setting up specific configurations for Jest tests.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/GettingStarted.md#_snippet_7>

LANGUAGE: javascript
CODE:

```
module.exports = api => {
  const isTest = api.env('test');
  // You can use isTest to determine what presets and plugins to use.

  return {
    // ...
  };
};
```

---

TITLE: Configure Babel for Node Environment
DESCRIPTION: Creates a `babel.config.js` file in the project root to configure Babel. This specific configuration targets the current Node.js environment for compilation, ensuring compatibility.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.7/GettingStarted.md#_snippet_7>

LANGUAGE: javascript
CODE:

```
module.exports = {
  presets: [['@babel/preset-env', {targets: {node: 'current'}}]],
};
```

---

TITLE: Initialize Jest Project
DESCRIPTION: Use the `create-jest` command to quickly set up a new Jest project. This command is compatible with npm, Yarn, and pnpm, allowing you to choose your preferred package manager for initialization.

SOURCE: <https://github.com/jestjs/jest/blob/main/packages/create-jest/README.md#_snippet_0>

LANGUAGE: bash
CODE:

```
npm init jest@latest
# Or for Yarn
yarn create jest
# Or for pnpm
pnpm create jest
```

---

TITLE: Setting Up Before All Tests with Jest beforeAll (JavaScript)
DESCRIPTION: This example shows how to use Jest's `beforeAll` hook to set up global state before any tests in a file begin. It demonstrates clearing and inserting initial data into a global database, and Jest waits for the setup promise to resolve before proceeding with tests. This is ideal for one-time, asynchronous setup of shared resources.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.5/GlobalAPI.md#_snippet_2>

LANGUAGE: JavaScript
CODE:

```
const globalDatabase = makeGlobalDatabase();

beforeAll(() => {
  // Clears the database and adds some testing data.
  // Jest will wait for this promise to resolve before running tests.
  return globalDatabase.clear().then(() => {
    return globalDatabase.insert({testData: 'foo'});
  });
});

// Since we only set up the database once in this example, it's important
// that our tests don't modify it.
test('can find things', () => {
  return globalDatabase.find('thing', {}, results => {
    expect(results.length).toBeGreaterThan(0);
  });
});
```

---

TITLE: Writing a Basic Jest Test
DESCRIPTION: Creates a test file that imports the `sum` function and uses Jest's `test`, `expect`, and `toBe` matchers to verify its correctness, ensuring the function behaves as expected.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/GettingStarted.md#_snippet_2>

LANGUAGE: javascript
CODE:

```
const sum = require('./sum');

test('adds 1 + 2 to equal 3', () => {
  expect(sum(1, 2)).toBe(3);
});
```

---

TITLE: Configuring Babel for Jest (Basic)
DESCRIPTION: Sets up a basic `babel.config.js` to transpile JavaScript code using `@babel/preset-env`, specifically targeting the current Node.js version for Jest tests.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/GettingStarted.md#_snippet_8>

LANGUAGE: javascript
CODE:

```
module.exports = {
  presets: [['@babel/preset-env', {targets: {node: 'current'}}]],
};
```

---

TITLE: Jest TypeScript Imports
DESCRIPTION: This code snippet demonstrates the required imports for Jest's TypeScript examples to work as documented. Ensure these imports are present in your test files when using TypeScript with Jest.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/_TypeScriptExamplesNote.md#_snippet_0>

LANGUAGE: TypeScript
CODE:

```
import {expect, jest, test} from '@jest/globals';

```

---

TITLE: Scoping Setup Hooks with describe Blocks in Jest
DESCRIPTION: This example demonstrates how `beforeEach` hooks can be scoped. A top-level `beforeEach` applies to all tests, while a `beforeEach` inside a `describe` block applies only to tests within that specific block. This allows for different setup routines for different groups of tests, such as separate database initializations.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.4/SetupAndTeardown.md#_snippet_3>

LANGUAGE: js
CODE:

```
// Applies to all tests in this file
beforeEach(() => {
  return initializeCityDatabase();
});

test('city database has Vienna', () => {
  expect(isCity('Vienna')).toBeTruthy();
});

test('city database has San Juan', () => {
  expect(isCity('San Juan')).toBeTruthy();
});

describe('matching cities to foods', () => {
  // Applies only to tests in this describe block
  beforeEach(() => {
    return initializeFoodDatabase();
  });

  test('Vienna <3 veal', () => {
    expect(isValidCityFoodPair('Vienna', 'Wiener Schnitzel')).toBe(true);
  });

  test('San Juan <3 plantains', () => {
    expect(isValidCityFoodPair('San Juan', 'Mofongo')).toBe(true);
  });
});
```

---

TITLE: Configure ESLint with Jest Environment
DESCRIPTION: Configures ESLint to recognize Jest globals by adding the `jest` environment. This prevents `no-undef` errors when using Jest APIs without explicit imports.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.7/GettingStarted.md#_snippet_15>

LANGUAGE: json
CODE:

```
{
  "overrides": [
    {
      "files": ["tests/**/*"],
      "env": {
        "jest": true
      }
    }
  ]
}
```

---

TITLE: Jest: Repeating Setup with beforeEach and afterEach
DESCRIPTION: This snippet demonstrates using Jest's `beforeEach` and `afterEach` hooks to execute setup and teardown logic before and after each individual test. These hooks are useful for tasks that need to be performed repeatedly, such as initializing or cleaning up a database for every test.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/SetupAndTeardown.md#_snippet_0>

LANGUAGE: javascript
CODE:

```
beforeEach(() => {
  initializeCityDatabase();
});

afterEach(() => {
  clearCityDatabase();
});

test('city database has Vienna', () => {
  expect(isCity('Vienna')).toBeTruthy();
});

test('city database has San Juan', () => {
  expect(isCity('San Juan')).toBeTruthy();
});
```

LANGUAGE: javascript
CODE:

```
beforeEach(() => {
  // Handles asynchronous setup by returning a promise
  return initializeCityDatabase();
});
```

---

TITLE: Jest: Repeating Setup with beforeEach and afterEach
DESCRIPTION: This snippet demonstrates using Jest's `beforeEach` and `afterEach` hooks to execute setup and teardown logic before and after each individual test. These hooks are useful for tasks that need to be performed repeatedly, such as initializing or cleaning up a database for every test.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-30.0/SetupAndTeardown.md#_snippet_0>

LANGUAGE: javascript
CODE:

```
beforeEach(() => {
  initializeCityDatabase();
});

afterEach(() => {
  clearCityDatabase();
});

test('city database has Vienna', () => {
  expect(isCity('Vienna')).toBeTruthy();
});

test('city database has San Juan', () => {
  expect(isCity('San Juan')).toBeTruthy();
});
```

LANGUAGE: javascript
CODE:

```
beforeEach(() => {
  // Handles asynchronous setup by returning a promise
  return initializeCityDatabase();
});
```

---

TITLE: Installing Jest and Babel Dependencies for React
DESCRIPTION: Installs Jest, `babel-jest`, and Babel presets (`@babel/preset-env`, `@babel/preset-react`) along with `react-test-renderer` as development dependencies. This setup is required for existing React applications to transform modern JavaScript and React JSX syntax within the Jest test environment.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.6/TutorialReact.md#_snippet_1>

LANGUAGE: Bash
CODE:

```
npm install --save-dev jest babel-jest @babel/preset-env @babel/preset-react react-test-renderer
```

---

TITLE: Example Test with Custom Puppeteer Setup
DESCRIPTION: An example Jest test that uses a custom Puppeteer setup. It accesses the browser instance via `globalThis.__BROWSER_GLOBAL__`, opens a new page, navigates, and evaluates JavaScript within the page context.

SOURCE: <https://github.com/jestjs/jest/blob/main/docs/Puppeteer.md#_snippet_6>

LANGUAGE: javascript
CODE:

```
const timeout = 5000;

describe(
  '/ (Home Page)',
  () => {
    let page;
    beforeAll(async () => {
      page = await globalThis.__BROWSER_GLOBAL__.newPage();
      await page.goto('https://google.com');
    }, timeout);

    it('should load without error', async () => {
      const text = await page.evaluate(() => document.body.textContent);
      expect(text).toContain('google');
    });
  },
  timeout,
);
```

---

TITLE: Configuring Jest Test Script in package.json
DESCRIPTION: This JSON snippet shows how to add a `test` script to your `package.json` file. This allows you to run Jest tests conveniently by executing `npm test` or `yarn test` from your terminal.

SOURCE: <https://github.com/jestjs/jest/blob/main/website/versioned_docs/version-29.6/GettingStarted.md#_snippet_3>

LANGUAGE: json
CODE:

```
{
  "scripts": {
    "test": "jest"
  }
}
```
