{
	"rules": [
		{
			"id": "cortex-os-async-without-await",
			"message": "Async function without await - consider removing async",
			"severity": "warning",
			"language": "typescript",
			"pattern": "async $$$() { $$$ }",
			"constraints": {
				"not": {
					"has": {
						"kind": "await_expression"
					}
				}
			},
			"ignores": [
				"**/*.test.ts",
				"**/*.spec.ts",
				"**/__tests__/**"
			]
		},
		{
			"id": "cortex-os-unsafe-type-assertion",
			"message": "Unsafe type assertion - prefer type guards",
			"severity": "warning",
			"language": "typescript",
			"pattern": "$$$ as $$$"
		},
		{
			"id": "cortex-os-exec-sync",
			"message": "execSync can block the event loop - prefer async alternatives",
			"severity": "warning",
			"language": "typescript",
			"pattern": "execSync($$$)"
		},
		{
			"id": "cortex-os-process-exit",
			"message": "process.exit() can prevent cleanup - use graceful shutdown",
			"severity": "warning",
			"language": "typescript",
			"pattern": "process.exit($$$)"
		},
		{
			"id": "cortex-os-direct-console-methods",
			"message": "Avoid direct console methods - use structured logging",
			"severity": "warning",
			"language": "typescript",
			"pattern": "console.(warn|error|info|debug)($$$)",
			"ignores": [
				"**/*.test.ts",
				"**/*.spec.ts",
				"**/__tests__/**"
			]
		},
		{
			"id": "no-debugger",
			"message": "Remove debugger statements before committing",
			"severity": "error",
			"language": "typescript",
			"pattern": "debugger"
		},
		{
			"id": "cortex-os-no-legacy-nx-run-many",
			"message": "Use pnpm build:smart/test:smart/lint:smart instead of nx run-many",
			"severity": "error",
			"language": "javascript",
			"pattern": "nx run-many",
			"ignores": [
				"scripts/nx-smart.mjs",
				"**/*.md",
				"**/*.txt",
				"docs/**"
			]
		}
	],
	"utils": {
		"is-test-file": {
			"inside": {
				"kind": "source_file",
				"pattern": {
					"regex": "\\.test\\.|__tests__|spec\\."
				}
			}
		},
		"is-config-file": {
			"inside": {
				"kind": "source_file",
				"pattern": {
					"regex": "\\.config\\.|config/|configs/"
				}
			}
		}
	}
}