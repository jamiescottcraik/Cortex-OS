# Cortex-OS Development Environment Configuration
# This file is used by direnv to automatically set environment variables when entering the project directory

# Docker Desktop configuration
export DOCKER_BUILDKIT=1
export BUILDKIT_PROGRESS=plain
export COMPOSE_DOCKER_CLI_BUILD=1

# Ensure Docker Desktop context is active
if command -v docker &> /dev/null && docker context list 2>/dev/null | grep -q "desktop-linux.*\*"; then
    # Docker Desktop context is already active
    :
elif command -v docker &> /dev/null && docker context list 2>/dev/null | grep -q "desktop-linux"; then
    # Switch to Docker Desktop context silently
    docker context use desktop-linux >/dev/null 2>&1
fi

# Python configuration
export UV_CACHE_DIR="$PWD/.uv-cache"
export PYTHONPATH="$PWD/python:$PYTHONPATH"

# Node.js/pnpm configuration
export PNPM_HOME="$HOME/.local/share/pnpm"
export PATH="$PNPM_HOME:$PATH"

# Rust configuration
export CARGO_TARGET_DIR="$PWD/target"

# Development mode indicators
export NODE_ENV=development
export RUST_LOG=debug
export PYTHON_ENV=development

# Silent environment setup - no startup messages
